<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebFrame++: coroute::http2::Http2Connection Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebFrame++<span id="projectnumber">&#160;v2.0.0</span>
   </div>
   <div id="projectbrief">Modern C++20 Coroutine-based Web Framework with HTTP/2, TLS, and WebSocket support</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d6f/namespacecoroute.html">coroute</a></li><li class="navelem"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html">http2</a></li><li class="navelem"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">coroute::http2::Http2Connection Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for coroute::http2::Http2Connection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acebc491c30b63a33f493c53f39212581" id="r_acebc491c30b63a33f493c53f39212581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#acebc491c30b63a33f493c53f39212581">Http2Connection</a> (std::unique_ptr&lt; <a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">conn</a>)</td></tr>
<tr class="separator:acebc491c30b63a33f493c53f39212581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9202fbda38ff1e71e5c8f6ab3237935c" id="r_a9202fbda38ff1e71e5c8f6ab3237935c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a9202fbda38ff1e71e5c8f6ab3237935c">~Http2Connection</a> ()</td></tr>
<tr class="separator:a9202fbda38ff1e71e5c8f6ab3237935c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13b0f43204a65eaf9d24f3319843fbe" id="r_ad13b0f43204a65eaf9d24f3319843fbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad13b0f43204a65eaf9d24f3319843fbe">Http2Connection</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;)=<a class="el" href="../../df/d44/classcoroute_1_1_task.html">delete</a></td></tr>
<tr class="separator:ad13b0f43204a65eaf9d24f3319843fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148a64bd5d81301abfc799578b3f3213" id="r_a148a64bd5d81301abfc799578b3f3213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a148a64bd5d81301abfc799578b3f3213">operator=</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;)=<a class="el" href="../../df/d44/classcoroute_1_1_task.html">delete</a></td></tr>
<tr class="separator:a148a64bd5d81301abfc799578b3f3213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05348c7812dda422331c51cf1626dc26" id="r_a05348c7812dda422331c51cf1626dc26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a05348c7812dda422331c51cf1626dc26">Http2Connection</a> (<a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&amp;)=<a class="el" href="../../df/d44/classcoroute_1_1_task.html">delete</a></td></tr>
<tr class="separator:a05348c7812dda422331c51cf1626dc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3428f64a386e765e0c1c71598651c28f" id="r_a3428f64a386e765e0c1c71598651c28f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3428f64a386e765e0c1c71598651c28f">operator=</a> (<a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&amp;)=<a class="el" href="../../df/d44/classcoroute_1_1_task.html">delete</a></td></tr>
<tr class="separator:a3428f64a386e765e0c1c71598651c28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affbafae2681fa975aec2e3ec07a5336c" id="r_affbafae2681fa975aec2e3ec07a5336c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#affbafae2681fa975aec2e3ec07a5336c">set_handler</a> (<a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a8fe2302b710563688fbe6acc32dfb741">RequestHandler</a> handler)</td></tr>
<tr class="separator:affbafae2681fa975aec2e3ec07a5336c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044631746517aa654291494f8a019da6" id="r_a044631746517aa654291494f8a019da6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a044631746517aa654291494f8a019da6">run</a> ()</td></tr>
<tr class="separator:a044631746517aa654291494f8a019da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad221b0935345f8031574db3db55dd4a5" id="r_ad221b0935345f8031574db3db55dd4a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad221b0935345f8031574db3db55dd4a5">is_open</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a></td></tr>
<tr class="separator:ad221b0935345f8031574db3db55dd4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107ed46ea73345f0d05b0cc8a97c713c" id="r_a107ed46ea73345f0d05b0cc8a97c713c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a107ed46ea73345f0d05b0cc8a97c713c">active_streams</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a></td></tr>
<tr class="separator:a107ed46ea73345f0d05b0cc8a97c713c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736a01e71a6ea8fd2ce0d1177ff3a37b" id="r_a736a01e71a6ea8fd2ce0d1177ff3a37b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a736a01e71a6ea8fd2ce0d1177ff3a37b">shutdown</a> (<a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a> error=<a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a70a47cae4eb221930f2663fd244369ea">ErrorCode::NoError</a>, std::string_view debug={})</td></tr>
<tr class="separator:a736a01e71a6ea8fd2ce0d1177ff3a37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accfb3ce7cf7b5ac9548dfc4d28a3dd4c" id="r_accfb3ce7cf7b5ac9548dfc4d28a3dd4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#accfb3ce7cf7b5ac9548dfc4d28a3dd4c">local_settings</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a></td></tr>
<tr class="separator:accfb3ce7cf7b5ac9548dfc4d28a3dd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42befaf463b4932bde42468c93101b47" id="r_a42befaf463b4932bde42468c93101b47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a42befaf463b4932bde42468c93101b47">remote_settings</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a></td></tr>
<tr class="separator:a42befaf463b4932bde42468c93101b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e994967fbb6149dea0c729ee1a07b1d" id="r_a9e994967fbb6149dea0c729ee1a07b1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a9e994967fbb6149dea0c729ee1a07b1d">connection_window_size</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a></td></tr>
<tr class="separator:a9e994967fbb6149dea0c729ee1a07b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ab1f23bacec6b99dee33934bc0e39c" id="r_ab5ab1f23bacec6b99dee33934bc0e39c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ab5ab1f23bacec6b99dee33934bc0e39c">update_connection_window</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">delta</a>)</td></tr>
<tr class="separator:ab5ab1f23bacec6b99dee33934bc0e39c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58cdc6b292b783b60663e8c801c4fa0" id="r_ac58cdc6b292b783b60663e8c801c4fa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html">HpackEncoder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac58cdc6b292b783b60663e8c801c4fa0">encoder</a> ()</td></tr>
<tr class="separator:ac58cdc6b292b783b60663e8c801c4fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6526d8be15c9f9a6487de890efe017" id="r_acb6526d8be15c9f9a6487de890efe017"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html">HpackDecoder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#acb6526d8be15c9f9a6487de890efe017">decoder</a> ()</td></tr>
<tr class="separator:acb6526d8be15c9f9a6487de890efe017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d81340cadfe4c26b37b36fd4b9c019" id="r_ac6d81340cadfe4c26b37b36fd4b9c019"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a> (std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">frame_data</a>)</td></tr>
<tr class="separator:ac6d81340cadfe4c26b37b36fd4b9c019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8e6f91a39e30dcbae5a9e96ee3ac2a" id="r_a6f8e6f91a39e30dcbae5a9e96ee3ac2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a6f8e6f91a39e30dcbae5a9e96ee3ac2a">connection</a> ()</td></tr>
<tr class="separator:a6f8e6f91a39e30dcbae5a9e96ee3ac2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5f1571dd5175c0faea06ebdf58c305b8" id="r_a5f1571dd5175c0faea06ebdf58c305b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5f1571dd5175c0faea06ebdf58c305b8">send_preface</a> ()</td></tr>
<tr class="separator:a5f1571dd5175c0faea06ebdf58c305b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d1f774f3a5c648a4f64c5bc6717ddd" id="r_a74d1f774f3a5c648a4f64c5bc6717ddd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a74d1f774f3a5c648a4f64c5bc6717ddd">receive_preface</a> ()</td></tr>
<tr class="separator:a74d1f774f3a5c648a4f64c5bc6717ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32920f883171fa0d55050afcd49367c" id="r_ae32920f883171fa0d55050afcd49367c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae32920f883171fa0d55050afcd49367c">process_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:ae32920f883171fa0d55050afcd49367c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d198b0b9fcd29a289fe5a1430def591" id="r_a0d198b0b9fcd29a289fe5a1430def591"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a0d198b0b9fcd29a289fe5a1430def591">process_data_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:a0d198b0b9fcd29a289fe5a1430def591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e1f0b18e4f88f4abac9448f32d2d1b" id="r_a35e1f0b18e4f88f4abac9448f32d2d1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a35e1f0b18e4f88f4abac9448f32d2d1b">process_headers_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:a35e1f0b18e4f88f4abac9448f32d2d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec33e5f975d5b1209bcc328facdb86f" id="r_adec33e5f975d5b1209bcc328facdb86f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#adec33e5f975d5b1209bcc328facdb86f">process_settings_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:adec33e5f975d5b1209bcc328facdb86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7458018ec6b9e0a88a3c85a4e5278e23" id="r_a7458018ec6b9e0a88a3c85a4e5278e23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7458018ec6b9e0a88a3c85a4e5278e23">process_ping_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:a7458018ec6b9e0a88a3c85a4e5278e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3abe1520148a7d38bb5945aa12fc1b" id="r_a4a3abe1520148a7d38bb5945aa12fc1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a4a3abe1520148a7d38bb5945aa12fc1b">process_goaway_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:a4a3abe1520148a7d38bb5945aa12fc1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80ec67d2524c367e015061c798eefcd" id="r_ac80ec67d2524c367e015061c798eefcd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac80ec67d2524c367e015061c798eefcd">process_window_update_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:ac80ec67d2524c367e015061c798eefcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae731ddf60ee4047a63050968ce44b116" id="r_ae731ddf60ee4047a63050968ce44b116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae731ddf60ee4047a63050968ce44b116">process_rst_stream_frame</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;header, std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">payload</a>)</td></tr>
<tr class="separator:ae731ddf60ee4047a63050968ce44b116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ece5a29782d758aa0cf3f51a0b216c" id="r_ac3ece5a29782d758aa0cf3f51a0b216c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">get_stream</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> stream_id)</td></tr>
<tr class="separator:ac3ece5a29782d758aa0cf3f51a0b216c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ea43e09fe3fc7d6bddbe357e402f85" id="r_a86ea43e09fe3fc7d6bddbe357e402f85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a86ea43e09fe3fc7d6bddbe357e402f85">create_stream</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> stream_id)</td></tr>
<tr class="separator:a86ea43e09fe3fc7d6bddbe357e402f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c929edf69330a11499e8723f5a004e" id="r_ad5c929edf69330a11499e8723f5a004e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad5c929edf69330a11499e8723f5a004e">remove_stream</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> stream_id)</td></tr>
<tr class="separator:ad5c929edf69330a11499e8723f5a004e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c903af9d4f4aa26e0a735ea4f137c94" id="r_a6c903af9d4f4aa26e0a735ea4f137c94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a6c903af9d4f4aa26e0a735ea4f137c94">handle_stream_request</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> stream_id)</td></tr>
<tr class="separator:a6c903af9d4f4aa26e0a735ea4f137c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f35fe9fa87ef04c153b34692499f3e" id="r_a60f35fe9fa87ef04c153b34692499f3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a> (<a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a> error, std::string_view debug={})</td></tr>
<tr class="separator:a60f35fe9fa87ef04c153b34692499f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22921c23e3e07ddb6bd60728f50c06b" id="r_ae22921c23e3e07ddb6bd60728f50c06b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae22921c23e3e07ddb6bd60728f50c06b">send_window_update</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> stream_id, <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">increment</a>)</td></tr>
<tr class="separator:ae22921c23e3e07ddb6bd60728f50c06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff30b08238e5b34d795136777e6b19a" id="r_a7ff30b08238e5b34d795136777e6b19a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7ff30b08238e5b34d795136777e6b19a">read_more</a> ()</td></tr>
<tr class="separator:a7ff30b08238e5b34d795136777e6b19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2122678fc3a451520dd64509ccba0674" id="r_a2122678fc3a451520dd64509ccba0674"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">conn_</a></td></tr>
<tr class="separator:a2122678fc3a451520dd64509ccba0674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea1f74dd8e3dd4833a030e11fb89acf" id="r_a2ea1f74dd8e3dd4833a030e11fb89acf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html">HpackEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2ea1f74dd8e3dd4833a030e11fb89acf">encoder_</a></td></tr>
<tr class="separator:a2ea1f74dd8e3dd4833a030e11fb89acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a88ea691757edca234b2323e74d118" id="r_ae6a88ea691757edca234b2323e74d118"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html">HpackDecoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae6a88ea691757edca234b2323e74d118">decoder_</a></td></tr>
<tr class="separator:ae6a88ea691757edca234b2323e74d118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f5a3c1f88bae51ce8d5fd7ac2e643a" id="r_a48f5a3c1f88bae51ce8d5fd7ac2e643a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a></td></tr>
<tr class="separator:a48f5a3c1f88bae51ce8d5fd7ac2e643a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3383095ad3358ce78eb2893d2937067b" id="r_a3383095ad3358ce78eb2893d2937067b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">remote_settings_</a></td></tr>
<tr class="separator:a3383095ad3358ce78eb2893d2937067b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b6a0215b32b14cad8ab0bee240742e" id="r_a57b6a0215b32b14cad8ab0bee240742e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a></td></tr>
<tr class="separator:a57b6a0215b32b14cad8ab0bee240742e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8785e64a8f796bd6ee72a2cd855df18e" id="r_a8785e64a8f796bd6ee72a2cd855df18e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a></td></tr>
<tr class="separator:a8785e64a8f796bd6ee72a2cd855df18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ffe278c2cbe6e948a03b9a70dcf3b2" id="r_af5ffe278c2cbe6e948a03b9a70dcf3b2"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>, std::unique_ptr&lt; <a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a></td></tr>
<tr class="separator:af5ffe278c2cbe6e948a03b9a70dcf3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97157ee74750765e6ebf59ebee99575e" id="r_a97157ee74750765e6ebf59ebee99575e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a97157ee74750765e6ebf59ebee99575e">last_stream_id_</a> = 0</td></tr>
<tr class="separator:a97157ee74750765e6ebf59ebee99575e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923f15c85530338bfe86c71df41826c1" id="r_a923f15c85530338bfe86c71df41826c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a923f15c85530338bfe86c71df41826c1">next_server_stream_id_</a> = 2</td></tr>
<tr class="separator:a923f15c85530338bfe86c71df41826c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b51d941939ed63515c1836288ac58c" id="r_af6b51d941939ed63515c1836288ac58c"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">active_streams_</a> {0}</td></tr>
<tr class="separator:af6b51d941939ed63515c1836288ac58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3470a1e2f6b7f60ce8ed761be8eba24" id="r_aa3470a1e2f6b7f60ce8ed761be8eba24"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a> {<a class="el" href="../../df/d44/classcoroute_1_1_task.html">true</a>}</td></tr>
<tr class="separator:aa3470a1e2f6b7f60ce8ed761be8eba24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e2121ec7773d240e4c84cb337a6843" id="r_a54e2121ec7773d240e4c84cb337a6843"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a54e2121ec7773d240e4c84cb337a6843">preface_received_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:a54e2121ec7773d240e4c84cb337a6843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d860d642820a4d925979d4fd47238f7" id="r_a5d860d642820a4d925979d4fd47238f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5d860d642820a4d925979d4fd47238f7">settings_ack_received_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:a5d860d642820a4d925979d4fd47238f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376f2bb255034548911ad38318b8fac3" id="r_a376f2bb255034548911ad38318b8fac3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a376f2bb255034548911ad38318b8fac3">goaway_sent_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:a376f2bb255034548911ad38318b8fac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9977d62501b4816d1b5252f179b8b3e6" id="r_a9977d62501b4816d1b5252f179b8b3e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a9977d62501b4816d1b5252f179b8b3e6">goaway_error_</a> = <a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a70a47cae4eb221930f2663fd244369ea">ErrorCode::NoError</a></td></tr>
<tr class="separator:a9977d62501b4816d1b5252f179b8b3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b31337189e45b317993feab919a7a7" id="r_a44b31337189e45b317993feab919a7a7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a></td></tr>
<tr class="separator:a44b31337189e45b317993feab919a7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24cdd8c75f1d820dcf6c235269e03bc7" id="r_a24cdd8c75f1d820dcf6c235269e03bc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a8fe2302b710563688fbe6acc32dfb741">RequestHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a></td></tr>
<tr class="separator:a24cdd8c75f1d820dcf6c235269e03bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2dafbfb975bf4aba2a60e0f8674513" id="r_a8e2dafbfb975bf4aba2a60e0f8674513"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">streams_mutex_</a></td></tr>
<tr class="separator:a8e2dafbfb975bf4aba2a60e0f8674513"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00042">42</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acebc491c30b63a33f493c53f39212581" name="acebc491c30b63a33f493c53f39212581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebc491c30b63a33f493c53f39212581">&#9670;&#160;</a></span>Http2Connection() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coroute::http2::Http2Connection::Http2Connection </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> &gt;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00038">38</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>    : <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">conn_</a>(std::move(conn))</div>
<div class="line"><span class="lineno">   40</span>    , <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a>(<a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a9150c5ac5fde7b83b7a535b07f2d644c">Constants::DefaultInitialWindowSize</a>)</div>
<div class="line"><span class="lineno">   41</span>    , <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a>(<a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a9150c5ac5fde7b83b7a535b07f2d644c">Constants::DefaultInitialWindowSize</a>)</div>
<div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.reserve(64 * 1024);</div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a2122678fc3a451520dd64509ccba0674"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">coroute::http2::Http2Connection::conn_</a></div><div class="ttdeci">std::unique_ptr&lt; net::Connection &gt; conn_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00043">connection.hpp:43</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a44b31337189e45b317993feab919a7a7"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">coroute::http2::Http2Connection::read_buffer_</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; read_buffer_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00071">connection.hpp:71</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a57b6a0215b32b14cad8ab0bee240742e"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">coroute::http2::Http2Connection::local_window_size_</a></div><div class="ttdeci">int32_t local_window_size_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00054">connection.hpp:54</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a8785e64a8f796bd6ee72a2cd855df18e"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">coroute::http2::Http2Connection::remote_window_size_</a></div><div class="ttdeci">int32_t remote_window_size_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00055">connection.hpp:55</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_1_1_constants_html_a9150c5ac5fde7b83b7a535b07f2d644c"><div class="ttname"><a href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a9150c5ac5fde7b83b7a535b07f2d644c">coroute::http2::Constants::DefaultInitialWindowSize</a></div><div class="ttdeci">constexpr uint32_t DefaultInitialWindowSize</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00134">frame.hpp:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9202fbda38ff1e71e5c8f6ab3237935c" name="a9202fbda38ff1e71e5c8f6ab3237935c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9202fbda38ff1e71e5c8f6ab3237935c">&#9670;&#160;</a></span>~Http2Connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">coroute::http2::Http2Connection::~Http2Connection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00046">46</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>                                  {</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">   48</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_aa3470a1e2f6b7f60ce8ed761be8eba24"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">coroute::http2::Http2Connection::is_open_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; is_open_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00064">connection.hpp:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad13b0f43204a65eaf9d24f3319843fbe" name="ad13b0f43204a65eaf9d24f3319843fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13b0f43204a65eaf9d24f3319843fbe">&#9670;&#160;</a></span>Http2Connection() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coroute::http2::Http2Connection::Http2Connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a05348c7812dda422331c51cf1626dc26" name="a05348c7812dda422331c51cf1626dc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05348c7812dda422331c51cf1626dc26">&#9670;&#160;</a></span>Http2Connection() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coroute::http2::Http2Connection::Http2Connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a107ed46ea73345f0d05b0cc8a97c713c" name="a107ed46ea73345f0d05b0cc8a97c713c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107ed46ea73345f0d05b0cc8a97c713c">&#9670;&#160;</a></span>active_streams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a> coroute::http2::Http2Connection::active_streams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00099">99</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">active_streams_</a>.load(std::memory_order_relaxed); }</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_af6b51d941939ed63515c1836288ac58c"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">coroute::http2::Http2Connection::active_streams_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; active_streams_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00061">connection.hpp:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f8e6f91a39e30dcbae5a9e96ee3ac2a" name="a6f8e6f91a39e30dcbae5a9e96ee3ac2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8e6f91a39e30dcbae5a9e96ee3ac2a">&#9670;&#160;</a></span>connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> &amp; coroute::http2::Http2Connection::connection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00120">120</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{ <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">conn_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e994967fbb6149dea0c729ee1a07b1d" name="a9e994967fbb6149dea0c729ee1a07b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e994967fbb6149dea0c729ee1a07b1d">&#9670;&#160;</a></span>connection_window_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a> coroute::http2::Http2Connection::connection_window_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00109">109</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a86ea43e09fe3fc7d6bddbe357e402f85" name="a86ea43e09fe3fc7d6bddbe357e402f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ea43e09fe3fc7d6bddbe357e402f85">&#9670;&#160;</a></span>create_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a> * coroute::http2::Http2Connection::create_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00586">586</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  586</span>                                                         {</div>
<div class="line"><span class="lineno">  587</span>    std::lock_guard lock(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">streams_mutex_</a>);</div>
<div class="line"><span class="lineno">  588</span>    <span class="keyword">auto</span> stream = std::make_unique&lt;Stream&gt;(</div>
<div class="line"><span class="lineno">  589</span>        stream_id,</div>
<div class="line"><span class="lineno">  590</span>        <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  591</span>        <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ad3c218f4923ea9bb02639c2c144eb00a">initial_window_size</a>)</div>
<div class="line"><span class="lineno">  592</span>    );</div>
<div class="line"><span class="lineno">  593</span>    <span class="keyword">auto</span>* ptr = stream.get();</div>
<div class="line"><span class="lineno">  594</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a>[stream_id] = std::move(stream);</div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">active_streams_</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">return</span> ptr;</div>
<div class="line"><span class="lineno">  597</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a48f5a3c1f88bae51ce8d5fd7ac2e643a"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">coroute::http2::Http2Connection::local_settings_</a></div><div class="ttdeci">ConnectionSettings local_settings_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00050">connection.hpp:50</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a8e2dafbfb975bf4aba2a60e0f8674513"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">coroute::http2::Http2Connection::streams_mutex_</a></div><div class="ttdeci">std::mutex streams_mutex_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00077">connection.hpp:77</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_af5ffe278c2cbe6e948a03b9a70dcf3b2"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">coroute::http2::Http2Connection::streams_</a></div><div class="ttdeci">std::unordered_map&lt; uint32_t, std::unique_ptr&lt; Stream &gt; &gt; streams_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00058">connection.hpp:58</a></div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_ad3c218f4923ea9bb02639c2c144eb00a"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ad3c218f4923ea9bb02639c2c144eb00a">coroute::http2::ConnectionSettings::initial_window_size</a></div><div class="ttdeci">uint32_t initial_window_size</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00027">connection.hpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb6526d8be15c9f9a6487de890efe017" name="acb6526d8be15c9f9a6487de890efe017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6526d8be15c9f9a6487de890efe017">&#9670;&#160;</a></span>decoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html">HpackDecoder</a> &amp; coroute::http2::Http2Connection::decoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00114">114</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae6a88ea691757edca234b2323e74d118">decoder_</a>; }</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ae6a88ea691757edca234b2323e74d118"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae6a88ea691757edca234b2323e74d118">coroute::http2::Http2Connection::decoder_</a></div><div class="ttdeci">HpackDecoder decoder_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00047">connection.hpp:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac58cdc6b292b783b60663e8c801c4fa0" name="ac58cdc6b292b783b60663e8c801c4fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58cdc6b292b783b60663e8c801c4fa0">&#9670;&#160;</a></span>encoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html">HpackEncoder</a> &amp; coroute::http2::Http2Connection::encoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00113">113</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  113</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2ea1f74dd8e3dd4833a030e11fb89acf">encoder_</a>; }</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a2ea1f74dd8e3dd4833a030e11fb89acf"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2ea1f74dd8e3dd4833a030e11fb89acf">coroute::http2::Http2Connection::encoder_</a></div><div class="ttdeci">HpackEncoder encoder_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00046">connection.hpp:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3ece5a29782d758aa0cf3f51a0b216c" name="ac3ece5a29782d758aa0cf3f51a0b216c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ece5a29782d758aa0cf3f51a0b216c">&#9670;&#160;</a></span>get_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a> * coroute::http2::Http2Connection::get_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00580">580</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  580</span>                                                      {</div>
<div class="line"><span class="lineno">  581</span>    std::lock_guard lock(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">streams_mutex_</a>);</div>
<div class="line"><span class="lineno">  582</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a>.find(stream_id);</div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">return</span> it != <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a>.end() ? it-&gt;second.get() : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  584</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c903af9d4f4aa26e0a735ea4f137c94" name="a6c903af9d4f4aa26e0a735ea4f137c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c903af9d4f4aa26e0a735ea4f137c94">&#9670;&#160;</a></span>handle_stream_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt; coroute::http2::Http2Connection::handle_stream_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00606">606</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  606</span>                                                                    {</div>
<div class="line"><span class="lineno">  607</span>    <span class="keyword">auto</span>* stream = <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">get_stream</a>(stream_id);</div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">if</span> (!stream || !<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a>) {</div>
<div class="line"><span class="lineno">  609</span>        <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">  610</span>    }</div>
<div class="line"><span class="lineno">  611</span>    </div>
<div class="line"><span class="lineno">  612</span>    <span class="comment">// Build request</span></div>
<div class="line"><span class="lineno">  613</span>    <span class="keyword">auto</span> req_result = stream-&gt;build_request();</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">if</span> (!req_result) {</div>
<div class="line"><span class="lineno">  615</span>        stream-&gt;reset(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a8462b58246e70e5c83e5b939a9332cb5">ErrorCode::InternalError</a>);</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad5c929edf69330a11499e8723f5a004e">remove_stream</a>(stream_id);</div>
<div class="line"><span class="lineno">  617</span>        <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">  618</span>    }</div>
<div class="line"><span class="lineno">  619</span>    </div>
<div class="line"><span class="lineno">  620</span>    <span class="comment">// Call handler</span></div>
<div class="line"><span class="lineno">  621</span>    Response response;</div>
<div class="line"><span class="lineno">  622</span>    </div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  624</span>        response = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a>(*req_result);</div>
<div class="line"><span class="lineno">  625</span>    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  626</span>        response = <a class="code hl_function" href="../../d3/df8/classcoroute_1_1_response.html#a07286b5c855b0d0032dc2c166bc07598">Response::internal_error</a>(e.what());</div>
<div class="line"><span class="lineno">  627</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  628</span>        response = <a class="code hl_function" href="../../d3/df8/classcoroute_1_1_response.html#a07286b5c855b0d0032dc2c166bc07598">Response::internal_error</a>(<span class="stringliteral">&quot;Unknown error&quot;</span>);</div>
<div class="line"><span class="lineno">  629</span>    }</div>
<div class="line"><span class="lineno">  630</span>    </div>
<div class="line"><span class="lineno">  631</span>    <span class="comment">// Send response</span></div>
<div class="line"><span class="lineno">  632</span>    <span class="keyword">co_await</span> stream-&gt;send_response(response);</div>
<div class="line"><span class="lineno">  633</span>    </div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad5c929edf69330a11499e8723f5a004e">remove_stream</a>(stream_id);</div>
<div class="line"><span class="lineno">  635</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_response_html_a07286b5c855b0d0032dc2c166bc07598"><div class="ttname"><a href="../../d3/df8/classcoroute_1_1_response.html#a07286b5c855b0d0032dc2c166bc07598">coroute::Response::internal_error</a></div><div class="ttdeci">static Response internal_error(std::string body=&quot;Internal Server Error&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../db/da4/response_8hpp_source.html#l00127">response.hpp:127</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a24cdd8c75f1d820dcf6c235269e03bc7"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">coroute::http2::Http2Connection::handler_</a></div><div class="ttdeci">RequestHandler handler_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00074">connection.hpp:74</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ac3ece5a29782d758aa0cf3f51a0b216c"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">coroute::http2::Http2Connection::get_stream</a></div><div class="ttdeci">Stream * get_stream(uint32_t stream_id)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00580">connection.cpp:580</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ad5c929edf69330a11499e8723f5a004e"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad5c929edf69330a11499e8723f5a004e">coroute::http2::Http2Connection::remove_stream</a></div><div class="ttdeci">void remove_stream(uint32_t stream_id)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00599">connection.cpp:599</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62a8462b58246e70e5c83e5b939a9332cb5"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a8462b58246e70e5c83e5b939a9332cb5">coroute::http2::ErrorCode::InternalError</a></div><div class="ttdeci">@ InternalError</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad221b0935345f8031574db3db55dd4a5" name="ad221b0935345f8031574db3db55dd4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad221b0935345f8031574db3db55dd4a5">&#9670;&#160;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::http2::Http2Connection::is_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00096">96</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.load(std::memory_order_relaxed); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="accfb3ce7cf7b5ac9548dfc4d28a3dd4c" name="accfb3ce7cf7b5ac9548dfc4d28a3dd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accfb3ce7cf7b5ac9548dfc4d28a3dd4c">&#9670;&#160;</a></span>local_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> &amp; coroute::http2::Http2Connection::local_settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00105">105</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a148a64bd5d81301abfc799578b3f3213" name="a148a64bd5d81301abfc799578b3f3213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a148a64bd5d81301abfc799578b3f3213">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp; coroute::http2::Http2Connection::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3428f64a386e765e0c1c71598651c28f" name="a3428f64a386e765e0c1c71598651c28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3428f64a386e765e0c1c71598651c28f">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp; coroute::http2::Http2Connection::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html">Http2Connection</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d198b0b9fcd29a289fe5a1430def591" name="a0d198b0b9fcd29a289fe5a1430def591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d198b0b9fcd29a289fe5a1430def591">&#9670;&#160;</a></span>process_data_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_data_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00239">239</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span>  {</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">if</span> (header.stream_id == 0) {</div>
<div class="line"><span class="lineno">  244</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;DATA on stream 0&quot;</span>);</div>
<div class="line"><span class="lineno">  245</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;DATA on stream 0&quot;</span>));</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span>    </div>
<div class="line"><span class="lineno">  248</span>    <span class="keyword">auto</span>* stream = <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">get_stream</a>(header.stream_id);</div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">if</span> (!stream) {</div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">// Stream doesn&#39;t exist - send RST_STREAM</span></div>
<div class="line"><span class="lineno">  251</span>        <span class="keyword">auto</span> rst = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a0918042d6d33a144a1fe28ca970478c3">serialize_rst_stream_frame</a>(header.stream_id, <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a96353a72accc0fabe0f826bbfc0af90c">ErrorCode::StreamClosed</a>);</div>
<div class="line"><span class="lineno">  252</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(rst);</div>
<div class="line"><span class="lineno">  253</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  254</span>    }</div>
<div class="line"><span class="lineno">  255</span>    </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment">// Handle padding if present</span></div>
<div class="line"><span class="lineno">  257</span>    std::span&lt;const uint8_t&gt; data = payload;</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (header.has_padded() &amp;&amp; !payload.empty()) {</div>
<div class="line"><span class="lineno">  259</span>        uint8_t pad_length = payload[0];</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">if</span> (pad_length &gt;= payload.size()) {</div>
<div class="line"><span class="lineno">  261</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid padding&quot;</span>);</div>
<div class="line"><span class="lineno">  262</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid padding&quot;</span>));</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span>        data = payload.subspan(1, payload.size() - 1 - pad_length);</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span>    </div>
<div class="line"><span class="lineno">  267</span>    <span class="comment">// Pass data to stream</span></div>
<div class="line"><span class="lineno">  268</span>    stream-&gt;receive_data(data, header.has_end_stream());</div>
<div class="line"><span class="lineno">  269</span>    </div>
<div class="line"><span class="lineno">  270</span>    <span class="comment">// Update flow control window</span></div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a> -= <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(payload.size());</div>
<div class="line"><span class="lineno">  272</span>    stream-&gt;update_local_window(-<span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(payload.size()));</div>
<div class="line"><span class="lineno">  273</span>    </div>
<div class="line"><span class="lineno">  274</span>    <span class="comment">// Send WINDOW_UPDATE if needed</span></div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a> &lt; <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a9150c5ac5fde7b83b7a535b07f2d644c">Constants::DefaultInitialWindowSize</a> / 2) {</div>
<div class="line"><span class="lineno">  276</span>        int32_t increment = <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a9150c5ac5fde7b83b7a535b07f2d644c">Constants::DefaultInitialWindowSize</a> - <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a>;</div>
<div class="line"><span class="lineno">  277</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae22921c23e3e07ddb6bd60728f50c06b">send_window_update</a>(0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(increment));</div>
<div class="line"><span class="lineno">  278</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a57b6a0215b32b14cad8ab0bee240742e">local_window_size_</a> += increment;</div>
<div class="line"><span class="lineno">  279</span>    }</div>
<div class="line"><span class="lineno">  280</span>    </div>
<div class="line"><span class="lineno">  281</span>    <span class="comment">// Check if request is complete</span></div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordflow">if</span> (stream-&gt;is_request_complete() &amp;&amp; <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a>) {</div>
<div class="line"><span class="lineno">  283</span>        <span class="comment">// Handle request in separate coroutine</span></div>
<div class="line"><span class="lineno">  284</span>        <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a6c903af9d4f4aa26e0a735ea4f137c94">handle_stream_request</a>(header.stream_id).<a class="code hl_function" href="../../df/d44/classcoroute_1_1_task.html#a0bb1c1960da9a943bae07d10ec64647c">start_detached</a>();</div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="line"><span class="lineno">  286</span>    </div>
<div class="line"><span class="lineno">  287</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  288</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_error_html_a55fa0657e9f6d5c3e219f5defe0bdf69"><div class="ttname"><a href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">coroute::Error::io</a></div><div class="ttdeci">static Error io(IoError e, std::string msg=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d99/error_8hpp_source.html#l00101">error.hpp:101</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_task_html_a0bb1c1960da9a943bae07d10ec64647c"><div class="ttname"><a href="../../df/d44/classcoroute_1_1_task.html#a0bb1c1960da9a943bae07d10ec64647c">coroute::Task::start_detached</a></div><div class="ttdeci">void start_detached()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/da1/task_8hpp_source.html#l00231">task.hpp:231</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a60f35fe9fa87ef04c153b34692499f3e"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">coroute::http2::Http2Connection::send_goaway</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; send_goaway(ErrorCode error, std::string_view debug={})</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00637">connection.cpp:637</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a6c903af9d4f4aa26e0a735ea4f137c94"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a6c903af9d4f4aa26e0a735ea4f137c94">coroute::http2::Http2Connection::handle_stream_request</a></div><div class="ttdeci">Task&lt; void &gt; handle_stream_request(uint32_t stream_id)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00606">connection.cpp:606</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ac6d81340cadfe4c26b37b36fd4b9c019"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">coroute::http2::Http2Connection::send_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; send_frame(std::span&lt; const uint8_t &gt; frame_data)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00135">connection.cpp:135</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ae22921c23e3e07ddb6bd60728f50c06b"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae22921c23e3e07ddb6bd60728f50c06b">coroute::http2::Http2Connection::send_window_update</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; send_window_update(uint32_t stream_id, uint32_t increment)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00647">connection.cpp:647</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a0918042d6d33a144a1fe28ca970478c3"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a0918042d6d33a144a1fe28ca970478c3">coroute::http2::serialize_rst_stream_frame</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_rst_stream_frame(uint32_t stream_id, ErrorCode error_code)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00190">frame.cpp:190</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62a96353a72accc0fabe0f826bbfc0af90c"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a96353a72accc0fabe0f826bbfc0af90c">coroute::http2::ErrorCode::StreamClosed</a></div><div class="ttdeci">@ StreamClosed</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">coroute::http2::ErrorCode::ProtocolError</a></div><div class="ttdeci">@ ProtocolError</div></div>
<div class="ttc" id="anamespacecoroute_html_af98980e90f494d750f5e197f3fad8305"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">coroute::unexpected</a></div><div class="ttdeci">unexpected(E) -&gt; unexpected&lt; E &gt;</div></div>
<div class="ttc" id="anamespacecoroute_html_aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">coroute::IoError::InvalidArgument</a></div><div class="ttdeci">@ InvalidArgument</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae32920f883171fa0d55050afcd49367c" name="ae32920f883171fa0d55050afcd49367c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32920f883171fa0d55050afcd49367c">&#9670;&#160;</a></span>process_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00193">193</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>  {</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">switch</span> (header.type) {</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af6068daa29dbb05a7ead1e3b5a48bbee">FrameType::Data</a>:</div>
<div class="line"><span class="lineno">  199</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a0d198b0b9fcd29a289fe5a1430def591">process_data_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  200</span>            </div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a883d7615c4d2de3fa1218f1298c46d0e">FrameType::Headers</a>:</div>
<div class="line"><span class="lineno">  202</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a35e1f0b18e4f88f4abac9448f32d2d1b">process_headers_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  203</span>            </div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af4f70727dc34561dfde1a3c529b6205c">FrameType::Settings</a>:</div>
<div class="line"><span class="lineno">  205</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#adec33e5f975d5b1209bcc328facdb86f">process_settings_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  206</span>            </div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321ab85815d04cec053ce6deb8021f2df1b8">FrameType::Ping</a>:</div>
<div class="line"><span class="lineno">  208</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7458018ec6b9e0a88a3c85a4e5278e23">process_ping_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  209</span>            </div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321adbbef46a58319d82be4d7c14250a52f5">FrameType::GoAway</a>:</div>
<div class="line"><span class="lineno">  211</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a4a3abe1520148a7d38bb5945aa12fc1b">process_goaway_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  212</span>            </div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321ae01b52b36c09cb7df91119838a499172">FrameType::WindowUpdate</a>:</div>
<div class="line"><span class="lineno">  214</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac80ec67d2524c367e015061c798eefcd">process_window_update_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  215</span>            </div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a117cc801594624b9579a9ed55b4e5b6b">FrameType::RstStream</a>:</div>
<div class="line"><span class="lineno">  217</span>            <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae731ddf60ee4047a63050968ce44b116">process_rst_stream_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  218</span>            </div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a502996d9790340c5fd7b86a5b93b1c9f">FrameType::Priority</a>:</div>
<div class="line"><span class="lineno">  220</span>            <span class="comment">// Ignore priority frames (deprecated)</span></div>
<div class="line"><span class="lineno">  221</span>            <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  222</span>            </div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a70e3e2633a044d32c5985d500fce7226">FrameType::PushPromise</a>:</div>
<div class="line"><span class="lineno">  224</span>            <span class="comment">// We don&#39;t support server push, and clients shouldn&#39;t send this</span></div>
<div class="line"><span class="lineno">  225</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;PUSH_PROMISE not allowed from client&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;PUSH_PROMISE not supported&quot;</span>));</div>
<div class="line"><span class="lineno">  227</span>            </div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af11580a0250ef12842e64f487810cc70">FrameType::Continuation</a>:</div>
<div class="line"><span class="lineno">  229</span>            <span class="comment">// Should be handled as part of HEADERS processing</span></div>
<div class="line"><span class="lineno">  230</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Unexpected CONTINUATION&quot;</span>);</div>
<div class="line"><span class="lineno">  231</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Unexpected CONTINUATION&quot;</span>));</div>
<div class="line"><span class="lineno">  232</span>            </div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  234</span>            <span class="comment">// Unknown frame types must be ignored (RFC 7540 Section 4.1)</span></div>
<div class="line"><span class="lineno">  235</span>            <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a0d198b0b9fcd29a289fe5a1430def591"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a0d198b0b9fcd29a289fe5a1430def591">coroute::http2::Http2Connection::process_data_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_data_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00239">connection.cpp:239</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a35e1f0b18e4f88f4abac9448f32d2d1b"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a35e1f0b18e4f88f4abac9448f32d2d1b">coroute::http2::Http2Connection::process_headers_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_headers_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00290">connection.cpp:290</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a4a3abe1520148a7d38bb5945aa12fc1b"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a4a3abe1520148a7d38bb5945aa12fc1b">coroute::http2::Http2Connection::process_goaway_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_goaway_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00481">connection.cpp:481</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a7458018ec6b9e0a88a3c85a4e5278e23"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7458018ec6b9e0a88a3c85a4e5278e23">coroute::http2::Http2Connection::process_ping_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_ping_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00455">connection.cpp:455</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ac80ec67d2524c367e015061c798eefcd"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac80ec67d2524c367e015061c798eefcd">coroute::http2::Http2Connection::process_window_update_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_window_update_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00514">connection.cpp:514</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_adec33e5f975d5b1209bcc328facdb86f"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#adec33e5f975d5b1209bcc328facdb86f">coroute::http2::Http2Connection::process_settings_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_settings_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00375">connection.cpp:375</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ae731ddf60ee4047a63050968ce44b116"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae731ddf60ee4047a63050968ce44b116">coroute::http2::Http2Connection::process_rst_stream_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_rst_stream_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00556">connection.cpp:556</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321a117cc801594624b9579a9ed55b4e5b6b"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a117cc801594624b9579a9ed55b4e5b6b">coroute::http2::FrameType::RstStream</a></div><div class="ttdeci">@ RstStream</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321a502996d9790340c5fd7b86a5b93b1c9f"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a502996d9790340c5fd7b86a5b93b1c9f">coroute::http2::FrameType::Priority</a></div><div class="ttdeci">@ Priority</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321a70e3e2633a044d32c5985d500fce7226"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a70e3e2633a044d32c5985d500fce7226">coroute::http2::FrameType::PushPromise</a></div><div class="ttdeci">@ PushPromise</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321a883d7615c4d2de3fa1218f1298c46d0e"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321a883d7615c4d2de3fa1218f1298c46d0e">coroute::http2::FrameType::Headers</a></div><div class="ttdeci">@ Headers</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321ab85815d04cec053ce6deb8021f2df1b8"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321ab85815d04cec053ce6deb8021f2df1b8">coroute::http2::FrameType::Ping</a></div><div class="ttdeci">@ Ping</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321adbbef46a58319d82be4d7c14250a52f5"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321adbbef46a58319d82be4d7c14250a52f5">coroute::http2::FrameType::GoAway</a></div><div class="ttdeci">@ GoAway</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321ae01b52b36c09cb7df91119838a499172"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321ae01b52b36c09cb7df91119838a499172">coroute::http2::FrameType::WindowUpdate</a></div><div class="ttdeci">@ WindowUpdate</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321af11580a0250ef12842e64f487810cc70"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af11580a0250ef12842e64f487810cc70">coroute::http2::FrameType::Continuation</a></div><div class="ttdeci">@ Continuation</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321af4f70727dc34561dfde1a3c529b6205c"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af4f70727dc34561dfde1a3c529b6205c">coroute::http2::FrameType::Settings</a></div><div class="ttdeci">@ Settings</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a04da4b179d36e5faf001a467dd916321af6068daa29dbb05a7ead1e3b5a48bbee"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a04da4b179d36e5faf001a467dd916321af6068daa29dbb05a7ead1e3b5a48bbee">coroute::http2::FrameType::Data</a></div><div class="ttdeci">@ Data</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a3abe1520148a7d38bb5945aa12fc1b" name="a4a3abe1520148a7d38bb5945aa12fc1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3abe1520148a7d38bb5945aa12fc1b">&#9670;&#160;</a></span>process_goaway_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_goaway_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00481">481</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  484</span>  {</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (header.stream_id != 0) {</div>
<div class="line"><span class="lineno">  486</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;GOAWAY on non-zero stream&quot;</span>);</div>
<div class="line"><span class="lineno">  487</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;GOAWAY on non-zero stream&quot;</span>));</div>
<div class="line"><span class="lineno">  488</span>    }</div>
<div class="line"><span class="lineno">  489</span>    </div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> (payload.size() &lt; 8) {</div>
<div class="line"><span class="lineno">  491</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid GOAWAY size&quot;</span>));</div>
<div class="line"><span class="lineno">  492</span>    }</div>
<div class="line"><span class="lineno">  493</span>    </div>
<div class="line"><span class="lineno">  494</span>    <span class="comment">// Parse GOAWAY</span></div>
<div class="line"><span class="lineno">  495</span>    uint32_t last_stream = ((<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[0]) &amp; 0x7F) &lt;&lt; 24) |</div>
<div class="line"><span class="lineno">  496</span>                           (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[1]) &lt;&lt; 16) |</div>
<div class="line"><span class="lineno">  497</span>                           (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[2]) &lt;&lt; 8) |</div>
<div class="line"><span class="lineno">  498</span>                           <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[3]);</div>
<div class="line"><span class="lineno">  499</span>    </div>
<div class="line"><span class="lineno">  500</span>    uint32_t error = (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[4]) &lt;&lt; 24) |</div>
<div class="line"><span class="lineno">  501</span>                     (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[5]) &lt;&lt; 16) |</div>
<div class="line"><span class="lineno">  502</span>                     (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[6]) &lt;&lt; 8) |</div>
<div class="line"><span class="lineno">  503</span>                     <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[7]);</div>
<div class="line"><span class="lineno">  504</span>    </div>
<div class="line"><span class="lineno">  505</span>    (void)last_stream;  <span class="comment">// We don&#39;t retry streams</span></div>
<div class="line"><span class="lineno">  506</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a9977d62501b4816d1b5252f179b8b3e6">goaway_error_</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a><span class="keyword">&gt;</span>(error);</div>
<div class="line"><span class="lineno">  507</span>    </div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">// Close connection</span></div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  510</span>    </div>
<div class="line"><span class="lineno">  511</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  512</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a9977d62501b4816d1b5252f179b8b3e6"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a9977d62501b4816d1b5252f179b8b3e6">coroute::http2::Http2Connection::goaway_error_</a></div><div class="ttdeci">ErrorCode goaway_error_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00068">connection.hpp:68</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">coroute::http2::ErrorCode</a></div><div class="ttdeci">ErrorCode</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00059">frame.hpp:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e1f0b18e4f88f4abac9448f32d2d1b" name="a35e1f0b18e4f88f4abac9448f32d2d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e1f0b18e4f88f4abac9448f32d2d1b">&#9670;&#160;</a></span>process_headers_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_headers_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00290">290</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>  {</div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">if</span> (header.stream_id == 0) {</div>
<div class="line"><span class="lineno">  295</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;HEADERS on stream 0&quot;</span>);</div>
<div class="line"><span class="lineno">  296</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;HEADERS on stream 0&quot;</span>));</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span>    </div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">// Handle padding and priority</span></div>
<div class="line"><span class="lineno">  300</span>    std::span&lt;const uint8_t&gt; header_block = payload;</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordtype">size_t</span> offset = 0;</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordtype">size_t</span> pad_length = 0;</div>
<div class="line"><span class="lineno">  303</span>    </div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">// PADDED flag - first byte is pad length</span></div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">if</span> (header.has_padded() &amp;&amp; !payload.empty()) {</div>
<div class="line"><span class="lineno">  306</span>        pad_length = payload[0];</div>
<div class="line"><span class="lineno">  307</span>        offset = 1;</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span>    </div>
<div class="line"><span class="lineno">  310</span>    <span class="comment">// PRIORITY flag - 5 bytes of priority data (stream dependency + weight)</span></div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span> (header.has_priority()) {</div>
<div class="line"><span class="lineno">  312</span>        offset += 5;  <span class="comment">// Skip E + Stream Dependency (4 bytes) + Weight (1 byte)</span></div>
<div class="line"><span class="lineno">  313</span>    }</div>
<div class="line"><span class="lineno">  314</span>    </div>
<div class="line"><span class="lineno">  315</span>    <span class="comment">// Validate we have enough data</span></div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">if</span> (offset + pad_length &gt; payload.size()) {</div>
<div class="line"><span class="lineno">  317</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid padding/priority&quot;</span>);</div>
<div class="line"><span class="lineno">  318</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid padding/priority&quot;</span>));</div>
<div class="line"><span class="lineno">  319</span>    }</div>
<div class="line"><span class="lineno">  320</span>    </div>
<div class="line"><span class="lineno">  321</span>    header_block = payload.subspan(offset, payload.size() - offset - pad_length);</div>
<div class="line"><span class="lineno">  322</span>    </div>
<div class="line"><span class="lineno">  323</span>    <span class="comment">// TODO: Handle CONTINUATION frames if END_HEADERS is not set</span></div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (!header.has_end_headers()) {</div>
<div class="line"><span class="lineno">  325</span>        <span class="comment">// For now, we don&#39;t support fragmented headers</span></div>
<div class="line"><span class="lineno">  326</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a8462b58246e70e5c83e5b939a9332cb5">ErrorCode::InternalError</a>, <span class="stringliteral">&quot;CONTINUATION not yet supported&quot;</span>);</div>
<div class="line"><span class="lineno">  327</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a88183b946cc5f0e8c96b2e66e1c74a7e">IoError::Unknown</a>, <span class="stringliteral">&quot;CONTINUATION not supported&quot;</span>));</div>
<div class="line"><span class="lineno">  328</span>    }</div>
<div class="line"><span class="lineno">  329</span>    </div>
<div class="line"><span class="lineno">  330</span>    <span class="comment">// Decode headers</span></div>
<div class="line"><span class="lineno">  331</span>    <span class="keyword">auto</span> headers_result = <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae6a88ea691757edca234b2323e74d118">decoder_</a>.<a class="code hl_function" href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html#ad90987c802618a5c0d88fcfd3f259028">decode</a>(header_block);</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (!headers_result) {</div>
<div class="line"><span class="lineno">  333</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a05a8d5f9c17595b9338cf7d7db3ee97b">ErrorCode::CompressionError</a>, <span class="stringliteral">&quot;HPACK decode failed&quot;</span>);</div>
<div class="line"><span class="lineno">  334</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(headers_result.error());</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span>    </div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// Validate headers</span></div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a9c5c74aabe8e162dbd6c527e9a094679">validate_request_headers</a>(*headers_result)) {</div>
<div class="line"><span class="lineno">  339</span>        <span class="keyword">auto</span> rst = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a0918042d6d33a144a1fe28ca970478c3">serialize_rst_stream_frame</a>(header.stream_id, <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>);</div>
<div class="line"><span class="lineno">  340</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(rst);</div>
<div class="line"><span class="lineno">  341</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  342</span>    }</div>
<div class="line"><span class="lineno">  343</span>    </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment">// Create or get stream</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="keyword">auto</span>* stream = <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">get_stream</a>(header.stream_id);</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (!stream) {</div>
<div class="line"><span class="lineno">  347</span>        <span class="comment">// New stream</span></div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">if</span> (header.stream_id &lt;= <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a97157ee74750765e6ebf59ebee99575e">last_stream_id_</a>) {</div>
<div class="line"><span class="lineno">  349</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Stream ID not increasing&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid stream ID&quot;</span>));</div>
<div class="line"><span class="lineno">  351</span>        }</div>
<div class="line"><span class="lineno">  352</span>        </div>
<div class="line"><span class="lineno">  353</span>        <span class="comment">// Check concurrent stream limit</span></div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">active_streams_</a>.load() &gt;= <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a3d0d843b5cf441421e63a922f9979432">max_concurrent_streams</a>) {</div>
<div class="line"><span class="lineno">  355</span>            <span class="keyword">auto</span> rst = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a0918042d6d33a144a1fe28ca970478c3">serialize_rst_stream_frame</a>(header.stream_id, <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a18d0726b075d1d71e81f82af37eb3398">ErrorCode::RefusedStream</a>);</div>
<div class="line"><span class="lineno">  356</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(rst);</div>
<div class="line"><span class="lineno">  357</span>            <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  358</span>        }</div>
<div class="line"><span class="lineno">  359</span>        </div>
<div class="line"><span class="lineno">  360</span>        stream = <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a86ea43e09fe3fc7d6bddbe357e402f85">create_stream</a>(header.stream_id);</div>
<div class="line"><span class="lineno">  361</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a97157ee74750765e6ebf59ebee99575e">last_stream_id_</a> = header.stream_id;</div>
<div class="line"><span class="lineno">  362</span>    }</div>
<div class="line"><span class="lineno">  363</span>    </div>
<div class="line"><span class="lineno">  364</span>    <span class="comment">// Pass headers to stream</span></div>
<div class="line"><span class="lineno">  365</span>    stream-&gt;receive_headers(std::move(*headers_result), header.has_end_stream());</div>
<div class="line"><span class="lineno">  366</span>    </div>
<div class="line"><span class="lineno">  367</span>    <span class="comment">// Check if request is complete (no body expected)</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> (stream-&gt;is_request_complete() &amp;&amp; <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a>) {</div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a6c903af9d4f4aa26e0a735ea4f137c94">handle_stream_request</a>(header.stream_id).<a class="code hl_function" href="../../df/d44/classcoroute_1_1_task.html#a0bb1c1960da9a943bae07d10ec64647c">start_detached</a>();</div>
<div class="line"><span class="lineno">  370</span>    }</div>
<div class="line"><span class="lineno">  371</span>    </div>
<div class="line"><span class="lineno">  372</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  373</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_hpack_decoder_html_ad90987c802618a5c0d88fcfd3f259028"><div class="ttname"><a href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html#ad90987c802618a5c0d88fcfd3f259028">coroute::http2::HpackDecoder::decode</a></div><div class="ttdeci">expected&lt; std::vector&lt; Header &gt;, Error &gt; decode(std::span&lt; const uint8_t &gt; data)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d90/hpack_8cpp_source.html#l00133">hpack.cpp:133</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a86ea43e09fe3fc7d6bddbe357e402f85"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a86ea43e09fe3fc7d6bddbe357e402f85">coroute::http2::Http2Connection::create_stream</a></div><div class="ttdeci">Stream * create_stream(uint32_t stream_id)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00586">connection.cpp:586</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a97157ee74750765e6ebf59ebee99575e"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a97157ee74750765e6ebf59ebee99575e">coroute::http2::Http2Connection::last_stream_id_</a></div><div class="ttdeci">uint32_t last_stream_id_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00059">connection.hpp:59</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62a05a8d5f9c17595b9338cf7d7db3ee97b"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a05a8d5f9c17595b9338cf7d7db3ee97b">coroute::http2::ErrorCode::CompressionError</a></div><div class="ttdeci">@ CompressionError</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62a18d0726b075d1d71e81f82af37eb3398"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a18d0726b075d1d71e81f82af37eb3398">coroute::http2::ErrorCode::RefusedStream</a></div><div class="ttdeci">@ RefusedStream</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a9c5c74aabe8e162dbd6c527e9a094679"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a9c5c74aabe8e162dbd6c527e9a094679">coroute::http2::validate_request_headers</a></div><div class="ttdeci">bool validate_request_headers(std::span&lt; const Header &gt; headers)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d90/hpack_8cpp_source.html#l00246">hpack.cpp:246</a></div></div>
<div class="ttc" id="anamespacecoroute_html_aff84452be17d5a4401024f65987e7564a88183b946cc5f0e8c96b2e66e1c74a7e"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a88183b946cc5f0e8c96b2e66e1c74a7e">coroute::IoError::Unknown</a></div><div class="ttdeci">@ Unknown</div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_a3d0d843b5cf441421e63a922f9979432"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a3d0d843b5cf441421e63a922f9979432">coroute::http2::ConnectionSettings::max_concurrent_streams</a></div><div class="ttdeci">uint32_t max_concurrent_streams</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00026">connection.hpp:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7458018ec6b9e0a88a3c85a4e5278e23" name="a7458018ec6b9e0a88a3c85a4e5278e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7458018ec6b9e0a88a3c85a4e5278e23">&#9670;&#160;</a></span>process_ping_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_ping_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00455">455</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  458</span>  {</div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (header.stream_id != 0) {</div>
<div class="line"><span class="lineno">  460</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;PING on non-zero stream&quot;</span>);</div>
<div class="line"><span class="lineno">  461</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;PING on non-zero stream&quot;</span>));</div>
<div class="line"><span class="lineno">  462</span>    }</div>
<div class="line"><span class="lineno">  463</span>    </div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">if</span> (payload.size() != 8) {</div>
<div class="line"><span class="lineno">  465</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;Invalid PING size&quot;</span>);</div>
<div class="line"><span class="lineno">  466</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid PING size&quot;</span>));</div>
<div class="line"><span class="lineno">  467</span>    }</div>
<div class="line"><span class="lineno">  468</span>    </div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">if</span> (header.has_ack()) {</div>
<div class="line"><span class="lineno">  470</span>        <span class="comment">// Response to our PING - ignore for now</span></div>
<div class="line"><span class="lineno">  471</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  472</span>    }</div>
<div class="line"><span class="lineno">  473</span>    </div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">// Send PING ACK with same opaque data</span></div>
<div class="line"><span class="lineno">  475</span>    std::array&lt;uint8_t, 8&gt; opaque_data;</div>
<div class="line"><span class="lineno">  476</span>    std::memcpy(opaque_data.data(), payload.data(), 8);</div>
<div class="line"><span class="lineno">  477</span>    <span class="keyword">auto</span> pong = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a60b8dd0c3b174fd883a90f25380f2e46">serialize_ping_frame</a>(opaque_data, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  478</span>    <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(pong);</div>
<div class="line"><span class="lineno">  479</span>}</div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">coroute::http2::ErrorCode::FrameSizeError</a></div><div class="ttdeci">@ FrameSizeError</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a60b8dd0c3b174fd883a90f25380f2e46"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a60b8dd0c3b174fd883a90f25380f2e46">coroute::http2::serialize_ping_frame</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_ping_frame(std::span&lt; const uint8_t, 8 &gt; opaque_data, bool ack=false)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00107">frame.cpp:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae731ddf60ee4047a63050968ce44b116" name="ae731ddf60ee4047a63050968ce44b116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae731ddf60ee4047a63050968ce44b116">&#9670;&#160;</a></span>process_rst_stream_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_rst_stream_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00556">556</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  559</span>  {</div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordflow">if</span> (header.stream_id == 0) {</div>
<div class="line"><span class="lineno">  561</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;RST_STREAM on stream 0&quot;</span>);</div>
<div class="line"><span class="lineno">  562</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;RST_STREAM on stream 0&quot;</span>));</div>
<div class="line"><span class="lineno">  563</span>    }</div>
<div class="line"><span class="lineno">  564</span>    </div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">if</span> (payload.size() != 4) {</div>
<div class="line"><span class="lineno">  566</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;Invalid RST_STREAM size&quot;</span>);</div>
<div class="line"><span class="lineno">  567</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid RST_STREAM size&quot;</span>));</div>
<div class="line"><span class="lineno">  568</span>    }</div>
<div class="line"><span class="lineno">  569</span>    </div>
<div class="line"><span class="lineno">  570</span>    <span class="comment">// Remove stream</span></div>
<div class="line"><span class="lineno">  571</span>    <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ad5c929edf69330a11499e8723f5a004e">remove_stream</a>(header.stream_id);</div>
<div class="line"><span class="lineno">  572</span>    </div>
<div class="line"><span class="lineno">  573</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  574</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adec33e5f975d5b1209bcc328facdb86f" name="adec33e5f975d5b1209bcc328facdb86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec33e5f975d5b1209bcc328facdb86f">&#9670;&#160;</a></span>process_settings_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_settings_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00375">375</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>  {</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">if</span> (header.stream_id != 0) {</div>
<div class="line"><span class="lineno">  380</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;SETTINGS on non-zero stream&quot;</span>);</div>
<div class="line"><span class="lineno">  381</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;SETTINGS on non-zero stream&quot;</span>));</div>
<div class="line"><span class="lineno">  382</span>    }</div>
<div class="line"><span class="lineno">  383</span>    </div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">if</span> (header.has_ack()) {</div>
<div class="line"><span class="lineno">  385</span>        <span class="comment">// ACK for our SETTINGS</span></div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">if</span> (payload.size() != 0) {</div>
<div class="line"><span class="lineno">  387</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;SETTINGS ACK with payload&quot;</span>);</div>
<div class="line"><span class="lineno">  388</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;SETTINGS ACK with payload&quot;</span>));</div>
<div class="line"><span class="lineno">  389</span>        }</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5d860d642820a4d925979d4fd47238f7">settings_ack_received_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  391</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span>    </div>
<div class="line"><span class="lineno">  394</span>    <span class="comment">// Parse settings</span></div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">if</span> (payload.size() % 6 != 0) {</div>
<div class="line"><span class="lineno">  396</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;Invalid SETTINGS size&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid SETTINGS size&quot;</span>));</div>
<div class="line"><span class="lineno">  398</span>    }</div>
<div class="line"><span class="lineno">  399</span>    </div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; payload.size(); i += 6) {</div>
<div class="line"><span class="lineno">  401</span>        uint16_t <span class="keywordtype">id</span> = (<span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(payload[i]) &lt;&lt; 8) | payload[i + 1];</div>
<div class="line"><span class="lineno">  402</span>        uint32_t value = (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[i + 2]) &lt;&lt; 24) |</div>
<div class="line"><span class="lineno">  403</span>                         (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[i + 3]) &lt;&lt; 16) |</div>
<div class="line"><span class="lineno">  404</span>                         (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[i + 4]) &lt;&lt; 8) |</div>
<div class="line"><span class="lineno">  405</span>                         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[i + 5]);</div>
<div class="line"><span class="lineno">  406</span>        </div>
<div class="line"><span class="lineno">  407</span>        <span class="comment">// Validate settings</span></div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">switch</span> (<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249">SettingsId</a><span class="keyword">&gt;</span>(<span class="keywordtype">id</span>)) {</div>
<div class="line"><span class="lineno">  409</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a31c984674578bace6ea06d391b6d60b3">SettingsId::EnablePush</a>:</div>
<div class="line"><span class="lineno">  410</span>                <span class="keywordflow">if</span> (value &gt; 1) {</div>
<div class="line"><span class="lineno">  411</span>                    <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid ENABLE_PUSH value&quot;</span>);</div>
<div class="line"><span class="lineno">  412</span>                    <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid ENABLE_PUSH&quot;</span>));</div>
<div class="line"><span class="lineno">  413</span>                }</div>
<div class="line"><span class="lineno">  414</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  415</span>                </div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a4471144e1ec7c117940fe0f8a9cea6d8">SettingsId::InitialWindowSize</a>:</div>
<div class="line"><span class="lineno">  417</span>                <span class="keywordflow">if</span> (value &gt; <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a5da01576979032b86583f20c6c46f08e">Constants::MaxWindowSize</a>) {</div>
<div class="line"><span class="lineno">  418</span>                    <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62abaffc42a88da4af165b83c8cb4d3b5ee">ErrorCode::FlowControlError</a>, <span class="stringliteral">&quot;Window size too large&quot;</span>);</div>
<div class="line"><span class="lineno">  419</span>                    <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Window too large&quot;</span>));</div>
<div class="line"><span class="lineno">  420</span>                }</div>
<div class="line"><span class="lineno">  421</span>                <span class="comment">// Update all stream windows</span></div>
<div class="line"><span class="lineno">  422</span>                {</div>
<div class="line"><span class="lineno">  423</span>                    std::lock_guard lock(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">streams_mutex_</a>);</div>
<div class="line"><span class="lineno">  424</span>                    int32_t delta = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(value) - </div>
<div class="line"><span class="lineno">  425</span>                                    <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">remote_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ad3c218f4923ea9bb02639c2c144eb00a">initial_window_size</a>);</div>
<div class="line"><span class="lineno">  426</span>                    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [<span class="keywordtype">id</span>, stream] : <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a>) {</div>
<div class="line"><span class="lineno">  427</span>                        stream-&gt;update_remote_window(delta);</div>
<div class="line"><span class="lineno">  428</span>                    }</div>
<div class="line"><span class="lineno">  429</span>                }</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  431</span>                </div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249aab13acde5a36af76f53058420d646bbe">SettingsId::MaxFrameSize</a>:</div>
<div class="line"><span class="lineno">  433</span>                <span class="keywordflow">if</span> (value &lt; Constants::MinMaxFrameSize || value &gt; <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a61b9f4bfabd5eb951cff9f11ba45d10c">Constants::MaxMaxFrameSize</a>) {</div>
<div class="line"><span class="lineno">  434</span>                    <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid MAX_FRAME_SIZE&quot;</span>);</div>
<div class="line"><span class="lineno">  435</span>                    <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid MAX_FRAME_SIZE&quot;</span>));</div>
<div class="line"><span class="lineno">  436</span>                }</div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  438</span>                </div>
<div class="line"><span class="lineno">  439</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  440</span>                <span class="comment">// Unknown settings are ignored</span></div>
<div class="line"><span class="lineno">  441</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  442</span>        }</div>
<div class="line"><span class="lineno">  443</span>        </div>
<div class="line"><span class="lineno">  444</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">remote_settings_</a>.<a class="code hl_function" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a0aeeacf49a2abeafbce1de2e1dd0cedf">apply</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249">SettingsId</a><span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), value);</div>
<div class="line"><span class="lineno">  445</span>    }</div>
<div class="line"><span class="lineno">  446</span>    </div>
<div class="line"><span class="lineno">  447</span>    <span class="comment">// Update HPACK encoder table size if changed</span></div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2ea1f74dd8e3dd4833a030e11fb89acf">encoder_</a>.<a class="code hl_function" href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html#ab47d7250992a715a5c453cec0538dd52">set_max_table_size</a>(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">remote_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a56cd9d90e5732b51ce6ec32d9dc45627">header_table_size</a>);</div>
<div class="line"><span class="lineno">  449</span>    </div>
<div class="line"><span class="lineno">  450</span>    <span class="comment">// Send ACK</span></div>
<div class="line"><span class="lineno">  451</span>    <span class="keyword">auto</span> ack = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a35bb71c551897c588c6814d5298eef7c">serialize_settings_ack</a>();</div>
<div class="line"><span class="lineno">  452</span>    <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(ack);</div>
<div class="line"><span class="lineno">  453</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_hpack_encoder_html_ab47d7250992a715a5c453cec0538dd52"><div class="ttname"><a href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html#ab47d7250992a715a5c453cec0538dd52">coroute::http2::HpackEncoder::set_max_table_size</a></div><div class="ttdeci">void set_max_table_size(size_t size)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d90/hpack_8cpp_source.html#l00089">hpack.cpp:89</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a3383095ad3358ce78eb2893d2937067b"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">coroute::http2::Http2Connection::remote_settings_</a></div><div class="ttdeci">ConnectionSettings remote_settings_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00051">connection.hpp:51</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a5d860d642820a4d925979d4fd47238f7"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5d860d642820a4d925979d4fd47238f7">coroute::http2::Http2Connection::settings_ack_received_</a></div><div class="ttdeci">bool settings_ack_received_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00066">connection.hpp:66</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_1_1_constants_html_a5da01576979032b86583f20c6c46f08e"><div class="ttname"><a href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a5da01576979032b86583f20c6c46f08e">coroute::http2::Constants::MaxWindowSize</a></div><div class="ttdeci">constexpr uint32_t MaxWindowSize</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00141">frame.hpp:141</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_1_1_constants_html_a61b9f4bfabd5eb951cff9f11ba45d10c"><div class="ttname"><a href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a61b9f4bfabd5eb951cff9f11ba45d10c">coroute::http2::Constants::MaxMaxFrameSize</a></div><div class="ttdeci">constexpr uint32_t MaxMaxFrameSize</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00140">frame.hpp:140</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a35bb71c551897c588c6814d5298eef7c"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a35bb71c551897c588c6814d5298eef7c">coroute::http2::serialize_settings_ack</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_settings_ack()</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00103">frame.cpp:103</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a3ec8ce8257a8c12a14c2edfb8648ae62abaffc42a88da4af165b83c8cb4d3b5ee"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62abaffc42a88da4af165b83c8cb4d3b5ee">coroute::http2::ErrorCode::FlowControlError</a></div><div class="ttdeci">@ FlowControlError</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249">coroute::http2::SettingsId</a></div><div class="ttdeci">SettingsId</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00080">frame.hpp:80</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249a31c984674578bace6ea06d391b6d60b3"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a31c984674578bace6ea06d391b6d60b3">coroute::http2::SettingsId::EnablePush</a></div><div class="ttdeci">@ EnablePush</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249a4471144e1ec7c117940fe0f8a9cea6d8"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a4471144e1ec7c117940fe0f8a9cea6d8">coroute::http2::SettingsId::InitialWindowSize</a></div><div class="ttdeci">@ InitialWindowSize</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249aab13acde5a36af76f53058420d646bbe"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249aab13acde5a36af76f53058420d646bbe">coroute::http2::SettingsId::MaxFrameSize</a></div><div class="ttdeci">@ MaxFrameSize</div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_a0aeeacf49a2abeafbce1de2e1dd0cedf"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a0aeeacf49a2abeafbce1de2e1dd0cedf">coroute::http2::ConnectionSettings::apply</a></div><div class="ttdeci">void apply(SettingsId id, uint32_t value)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00011">connection.cpp:11</a></div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_a56cd9d90e5732b51ce6ec32d9dc45627"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a56cd9d90e5732b51ce6ec32d9dc45627">coroute::http2::ConnectionSettings::header_table_size</a></div><div class="ttdeci">uint32_t header_table_size</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00024">connection.hpp:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac80ec67d2524c367e015061c798eefcd" name="ac80ec67d2524c367e015061c798eefcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80ec67d2524c367e015061c798eefcd">&#9670;&#160;</a></span>process_window_update_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::process_window_update_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html">FrameHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00514">514</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  517</span>  {</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">if</span> (payload.size() != 4) {</div>
<div class="line"><span class="lineno">  519</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;Invalid WINDOW_UPDATE size&quot;</span>);</div>
<div class="line"><span class="lineno">  520</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid WINDOW_UPDATE size&quot;</span>));</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span>    </div>
<div class="line"><span class="lineno">  523</span>    uint32_t increment = ((<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[0]) &amp; 0x7F) &lt;&lt; 24) |</div>
<div class="line"><span class="lineno">  524</span>                         (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[1]) &lt;&lt; 16) |</div>
<div class="line"><span class="lineno">  525</span>                         (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[2]) &lt;&lt; 8) |</div>
<div class="line"><span class="lineno">  526</span>                         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(payload[3]);</div>
<div class="line"><span class="lineno">  527</span>    </div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> (increment == 0) {</div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">if</span> (header.stream_id == 0) {</div>
<div class="line"><span class="lineno">  530</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Zero WINDOW_UPDATE increment&quot;</span>);</div>
<div class="line"><span class="lineno">  531</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  532</span>            <span class="keyword">auto</span> rst = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a0918042d6d33a144a1fe28ca970478c3">serialize_rst_stream_frame</a>(header.stream_id, <a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>);</div>
<div class="line"><span class="lineno">  533</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(rst);</div>
<div class="line"><span class="lineno">  534</span>        }</div>
<div class="line"><span class="lineno">  535</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  536</span>    }</div>
<div class="line"><span class="lineno">  537</span>    </div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">if</span> (header.stream_id == 0) {</div>
<div class="line"><span class="lineno">  539</span>        <span class="comment">// Connection-level window update</span></div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a> += <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(increment);</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a> &gt; <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a5da01576979032b86583f20c6c46f08e">Constants::MaxWindowSize</a>)) {</div>
<div class="line"><span class="lineno">  542</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62abaffc42a88da4af165b83c8cb4d3b5ee">ErrorCode::FlowControlError</a>, <span class="stringliteral">&quot;Window overflow&quot;</span>);</div>
<div class="line"><span class="lineno">  543</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Window overflow&quot;</span>));</div>
<div class="line"><span class="lineno">  544</span>        }</div>
<div class="line"><span class="lineno">  545</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  546</span>        <span class="comment">// Stream-level window update</span></div>
<div class="line"><span class="lineno">  547</span>        <span class="keyword">auto</span>* stream = <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac3ece5a29782d758aa0cf3f51a0b216c">get_stream</a>(header.stream_id);</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">if</span> (stream) {</div>
<div class="line"><span class="lineno">  549</span>            stream-&gt;update_remote_window(<span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(increment));</div>
<div class="line"><span class="lineno">  550</span>        }</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>    </div>
<div class="line"><span class="lineno">  553</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  554</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ff30b08238e5b34d795136777e6b19a" name="a7ff30b08238e5b34d795136777e6b19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff30b08238e5b34d795136777e6b19a">&#9670;&#160;</a></span>read_more()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::read_more </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00652">652</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  652</span>                                                         {</div>
<div class="line"><span class="lineno">  653</span>    std::array&lt;uint8_t, 16384&gt; buf;</div>
<div class="line"><span class="lineno">  654</span>    <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">conn_</a>-&gt;async_read(buf.data(), buf.size());</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  656</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  657</span>    }</div>
<div class="line"><span class="lineno">  658</span>    </div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.insert(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.end(), buf.begin(), buf.begin() + *result);</div>
<div class="line"><span class="lineno">  660</span>    <span class="keyword">co_return</span> *result;</div>
<div class="line"><span class="lineno">  661</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a74d1f774f3a5c648a4f64c5bc6717ddd" name="a74d1f774f3a5c648a4f64c5bc6717ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d1f774f3a5c648a4f64c5bc6717ddd">&#9670;&#160;</a></span>receive_preface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::receive_preface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00161">161</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>                                                             {</div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">// Client must send connection preface: magic string + SETTINGS</span></div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> preface_len = <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a522955b0ce528a559742e2435394f638">Constants::ClientPreface</a>.size();</div>
<div class="line"><span class="lineno">  164</span>    </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// Read until we have the preface</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.size() &lt; preface_len) {</div>
<div class="line"><span class="lineno">  167</span>        <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7ff30b08238e5b34d795136777e6b19a">read_more</a>();</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  169</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">if</span> (*result == 0) {</div>
<div class="line"><span class="lineno">  172</span>            <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564aa6157935f33a07a4f46d0d07faf00213">IoError::ConnectionReset</a>, <span class="stringliteral">&quot;Connection closed during preface&quot;</span>));</div>
<div class="line"><span class="lineno">  173</span>        }</div>
<div class="line"><span class="lineno">  174</span>    }</div>
<div class="line"><span class="lineno">  175</span>    </div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">// Verify magic string</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">if</span> (std::memcmp(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.data(), <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a522955b0ce528a559742e2435394f638">Constants::ClientPreface</a>.data(), preface_len) != 0) {</div>
<div class="line"><span class="lineno">  178</span>        <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid connection preface&quot;</span>);</div>
<div class="line"><span class="lineno">  179</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#a55fa0657e9f6d5c3e219f5defe0bdf69">Error::io</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564a253ca7dd096ee0956cccee4d376cab8b">IoError::InvalidArgument</a>, <span class="stringliteral">&quot;Invalid HTTP/2 preface&quot;</span>));</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>    </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// Remove preface from buffer</span></div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.erase(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.begin(), <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.begin() + preface_len);</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a54e2121ec7773d240e4c84cb337a6843">preface_received_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  185</span>    </div>
<div class="line"><span class="lineno">  186</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a54e2121ec7773d240e4c84cb337a6843"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a54e2121ec7773d240e4c84cb337a6843">coroute::http2::Http2Connection::preface_received_</a></div><div class="ttdeci">bool preface_received_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00065">connection.hpp:65</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a7ff30b08238e5b34d795136777e6b19a"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7ff30b08238e5b34d795136777e6b19a">coroute::http2::Http2Connection::read_more</a></div><div class="ttdeci">Task&lt; expected&lt; size_t, Error &gt; &gt; read_more()</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00652">connection.cpp:652</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_1_1_constants_html_a522955b0ce528a559742e2435394f638"><div class="ttname"><a href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a522955b0ce528a559742e2435394f638">coroute::http2::Constants::ClientPreface</a></div><div class="ttdeci">constexpr std::string_view ClientPreface</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00144">frame.hpp:144</a></div></div>
<div class="ttc" id="anamespacecoroute_html_aff84452be17d5a4401024f65987e7564aa6157935f33a07a4f46d0d07faf00213"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#aff84452be17d5a4401024f65987e7564aa6157935f33a07a4f46d0d07faf00213">coroute::IoError::ConnectionReset</a></div><div class="ttdeci">@ ConnectionReset</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42befaf463b4932bde42468c93101b47" name="a42befaf463b4932bde42468c93101b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42befaf463b4932bde42468c93101b47">&#9670;&#160;</a></span>remote_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> &amp; coroute::http2::Http2Connection::remote_settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00106">106</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a3383095ad3358ce78eb2893d2937067b">remote_settings_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5c929edf69330a11499e8723f5a004e" name="ad5c929edf69330a11499e8723f5a004e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c929edf69330a11499e8723f5a004e">&#9670;&#160;</a></span>remove_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> coroute::http2::Http2Connection::remove_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stream_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00599">599</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  599</span>                                                      {</div>
<div class="line"><span class="lineno">  600</span>    std::lock_guard lock(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8e2dafbfb975bf4aba2a60e0f8674513">streams_mutex_</a>);</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af5ffe278c2cbe6e948a03b9a70dcf3b2">streams_</a>.erase(stream_id) &gt; 0) {</div>
<div class="line"><span class="lineno">  602</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#af6b51d941939ed63515c1836288ac58c">active_streams_</a>.fetch_sub(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a044631746517aa654291494f8a019da6" name="a044631746517aa654291494f8a019da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044631746517aa654291494f8a019da6">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt; coroute::http2::Http2Connection::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00050">50</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>                                {</div>
<div class="line"><span class="lineno">   51</span>    <span class="comment">// Send our SETTINGS</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="keyword">auto</span> preface_result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5f1571dd5175c0faea06ebdf58c305b8">send_preface</a>();</div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span> (!preface_result) {</div>
<div class="line"><span class="lineno">   54</span>        <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span>    </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// Receive client preface</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keyword">auto</span> recv_preface_result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a74d1f774f3a5c648a4f64c5bc6717ddd">receive_preface</a>();</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> (!recv_preface_result) {</div>
<div class="line"><span class="lineno">   60</span>        <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span>    </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">// Main frame processing loop</span></div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.load(std::memory_order_relaxed)) {</div>
<div class="line"><span class="lineno">   65</span>        <span class="comment">// Ensure we have at least a frame header</span></div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.size() &lt; <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a123b0965f439d365bebc80a05edd21b5">Constants::FrameHeaderSize</a>) {</div>
<div class="line"><span class="lineno">   67</span>            <span class="keyword">auto</span> read_result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7ff30b08238e5b34d795136777e6b19a">read_more</a>();</div>
<div class="line"><span class="lineno">   68</span>            <span class="keywordflow">if</span> (!read_result) {</div>
<div class="line"><span class="lineno">   69</span>                <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">   70</span>                <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   71</span>            }</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> (*read_result == 0) {</div>
<div class="line"><span class="lineno">   73</span>                <span class="comment">// Connection closed</span></div>
<div class="line"><span class="lineno">   74</span>                <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">   75</span>                <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   76</span>            }</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>        </div>
<div class="line"><span class="lineno">   79</span>        <span class="comment">// Parse frame header</span></div>
<div class="line"><span class="lineno">   80</span>        <span class="keyword">auto</span> header_result = <a class="code hl_function" href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html#a3fcc7ad1c7fa0eeed31b95a9a0f4d44f">FrameHeader::parse</a>(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>);</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">if</span> (!header_result) {</div>
<div class="line"><span class="lineno">   82</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62aca3da8f495e4e628912a7798655da6c2">ErrorCode::ProtocolError</a>, <span class="stringliteral">&quot;Invalid frame header&quot;</span>);</div>
<div class="line"><span class="lineno">   83</span>            <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   84</span>        }</div>
<div class="line"><span class="lineno">   85</span>        </div>
<div class="line"><span class="lineno">   86</span>        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; header = *header_result;</div>
<div class="line"><span class="lineno">   87</span>        </div>
<div class="line"><span class="lineno">   88</span>        <span class="comment">// Validate frame size</span></div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">if</span> (header.length &gt; <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#abe52945e1580f794cba6e52a8aef0ef8">max_frame_size</a>) {</div>
<div class="line"><span class="lineno">   90</span>            <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a579093c9abeae06ebe5ed8891cd59fe2">ErrorCode::FrameSizeError</a>, <span class="stringliteral">&quot;Frame too large&quot;</span>);</div>
<div class="line"><span class="lineno">   91</span>            <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">   92</span>        }</div>
<div class="line"><span class="lineno">   93</span>        </div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// Ensure we have the full frame</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordtype">size_t</span> frame_size = <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a123b0965f439d365bebc80a05edd21b5">Constants::FrameHeaderSize</a> + header.length;</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.size() &lt; frame_size) {</div>
<div class="line"><span class="lineno">   97</span>            <span class="keyword">auto</span> read_result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a7ff30b08238e5b34d795136777e6b19a">read_more</a>();</div>
<div class="line"><span class="lineno">   98</span>            <span class="keywordflow">if</span> (!read_result || *read_result == 0) {</div>
<div class="line"><span class="lineno">   99</span>                <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  100</span>                <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">  101</span>            }</div>
<div class="line"><span class="lineno">  102</span>        }</div>
<div class="line"><span class="lineno">  103</span>        </div>
<div class="line"><span class="lineno">  104</span>        <span class="comment">// Extract payload</span></div>
<div class="line"><span class="lineno">  105</span>        std::span&lt;const uint8_t&gt; payload(</div>
<div class="line"><span class="lineno">  106</span>            <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.data() + <a class="code hl_variable" href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a123b0965f439d365bebc80a05edd21b5">Constants::FrameHeaderSize</a>,</div>
<div class="line"><span class="lineno">  107</span>            header.length</div>
<div class="line"><span class="lineno">  108</span>        );</div>
<div class="line"><span class="lineno">  109</span>        </div>
<div class="line"><span class="lineno">  110</span>        <span class="comment">// Process frame</span></div>
<div class="line"><span class="lineno">  111</span>        <span class="keyword">auto</span> process_result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae32920f883171fa0d55050afcd49367c">process_frame</a>(header, payload);</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">if</span> (!process_result) {</div>
<div class="line"><span class="lineno">  113</span>            <span class="comment">// Error already handled (GOAWAY sent or connection closed)</span></div>
<div class="line"><span class="lineno">  114</span>            <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">  115</span>        }</div>
<div class="line"><span class="lineno">  116</span>        </div>
<div class="line"><span class="lineno">  117</span>        <span class="comment">// Remove processed frame from buffer</span></div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.erase(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.begin(), <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a44b31337189e45b317993feab919a7a7">read_buffer_</a>.begin() + frame_size);</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a5f1571dd5175c0faea06ebdf58c305b8"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a5f1571dd5175c0faea06ebdf58c305b8">coroute::http2::Http2Connection::send_preface</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; send_preface()</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00147">connection.cpp:147</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a74d1f774f3a5c648a4f64c5bc6717ddd"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a74d1f774f3a5c648a4f64c5bc6717ddd">coroute::http2::Http2Connection::receive_preface</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; receive_preface()</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00161">connection.cpp:161</a></div></div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_ae32920f883171fa0d55050afcd49367c"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ae32920f883171fa0d55050afcd49367c">coroute::http2::Http2Connection::process_frame</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; process_frame(const FrameHeader &amp;header, std::span&lt; const uint8_t &gt; payload)</div><div class="ttdef"><b>Definition</b> <a href="../../df/db6/connection_8cpp_source.html#l00193">connection.cpp:193</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_1_1_constants_html_a123b0965f439d365bebc80a05edd21b5"><div class="ttname"><a href="../../dc/d7f/namespacecoroute_1_1http2_1_1_constants.html#a123b0965f439d365bebc80a05edd21b5">coroute::http2::Constants::FrameHeaderSize</a></div><div class="ttdeci">constexpr size_t FrameHeaderSize</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d3c/frame_8hpp_source.html#l00128">frame.hpp:128</a></div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_abe52945e1580f794cba6e52a8aef0ef8"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#abe52945e1580f794cba6e52a8aef0ef8">coroute::http2::ConnectionSettings::max_frame_size</a></div><div class="ttdeci">uint32_t max_frame_size</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00028">connection.hpp:28</a></div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_frame_header_html_a3fcc7ad1c7fa0eeed31b95a9a0f4d44f"><div class="ttname"><a href="../../d0/df5/structcoroute_1_1http2_1_1_frame_header.html#a3fcc7ad1c7fa0eeed31b95a9a0f4d44f">coroute::http2::FrameHeader::parse</a></div><div class="ttdeci">static expected&lt; FrameHeader, Error &gt; parse(std::span&lt; const uint8_t &gt; data)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00034">frame.cpp:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6d81340cadfe4c26b37b36fd4b9c019" name="ac6d81340cadfe4c26b37b36fd4b9c019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d81340cadfe4c26b37b36fd4b9c019">&#9670;&#160;</a></span>send_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::send_frame </td>
          <td>(</td>
          <td class="paramtype">std::span&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> &gt;&#160;</td>
          <td class="paramname"><em>frame_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00135">135</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>                                                                                         {</div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a2122678fc3a451520dd64509ccba0674">conn_</a>-&gt;async_write_all(frame_data.data(), frame_data.size());</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  138</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  141</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a60f35fe9fa87ef04c153b34692499f3e" name="a60f35fe9fa87ef04c153b34692499f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f35fe9fa87ef04c153b34692499f3e">&#9670;&#160;</a></span>send_goaway()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::send_goaway </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a>&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>debug</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00637">637</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  637</span>                                                                                              {</div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a376f2bb255034548911ad38318b8fac3">goaway_sent_</a>) {</div>
<div class="line"><span class="lineno">  639</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span>    </div>
<div class="line"><span class="lineno">  642</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a376f2bb255034548911ad38318b8fac3">goaway_sent_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  643</span>    <span class="keyword">auto</span> frame = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a7b5029f2778f05e17a183acb098681fc">serialize_goaway_frame</a>(<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a97157ee74750765e6ebf59ebee99575e">last_stream_id_</a>, error, debug);</div>
<div class="line"><span class="lineno">  644</span>    <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(frame);</div>
<div class="line"><span class="lineno">  645</span>}</div>
<div class="ttc" id="aclasscoroute_1_1http2_1_1_http2_connection_html_a376f2bb255034548911ad38318b8fac3"><div class="ttname"><a href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a376f2bb255034548911ad38318b8fac3">coroute::http2::Http2Connection::goaway_sent_</a></div><div class="ttdeci">bool goaway_sent_</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00067">connection.hpp:67</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a7b5029f2778f05e17a183acb098681fc"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a7b5029f2778f05e17a183acb098681fc">coroute::http2::serialize_goaway_frame</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_goaway_frame(uint32_t last_stream_id, ErrorCode error_code, std::string_view debug_data={})</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00127">frame.cpp:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f1571dd5175c0faea06ebdf58c305b8" name="a5f1571dd5175c0faea06ebdf58c305b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1571dd5175c0faea06ebdf58c305b8">&#9670;&#160;</a></span>send_preface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::send_preface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>                                                          {</div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">// Server sends SETTINGS frame as preface</span></div>
<div class="line"><span class="lineno">  149</span>    std::vector&lt;SettingsEntry&gt; settings = {</div>
<div class="line"><span class="lineno">  150</span>        {<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a86b581258034d690096160024ce1fce4">SettingsId::MaxConcurrentStreams</a>, <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#a3d0d843b5cf441421e63a922f9979432">max_concurrent_streams</a>},</div>
<div class="line"><span class="lineno">  151</span>        {<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a4471144e1ec7c117940fe0f8a9cea6d8">SettingsId::InitialWindowSize</a>, <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ad3c218f4923ea9bb02639c2c144eb00a">initial_window_size</a>},</div>
<div class="line"><span class="lineno">  152</span>        {<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249aab13acde5a36af76f53058420d646bbe">SettingsId::MaxFrameSize</a>, <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#abe52945e1580f794cba6e52a8aef0ef8">max_frame_size</a>},</div>
<div class="line"><span class="lineno">  153</span>        {<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249ad7bb04dacc76fb308fd3146bad706503">SettingsId::MaxHeaderListSize</a>, <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a48f5a3c1f88bae51ce8d5fd7ac2e643a">local_settings_</a>.<a class="code hl_variable" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ae5d5836d59a9df505da582ef396186e0">max_header_list_size</a>},</div>
<div class="line"><span class="lineno">  154</span>        {<a class="code hl_enumvalue" href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a31c984674578bace6ea06d391b6d60b3">SettingsId::EnablePush</a>, 0},  <span class="comment">// We don&#39;t support server push</span></div>
<div class="line"><span class="lineno">  155</span>    };</div>
<div class="line"><span class="lineno">  156</span>    </div>
<div class="line"><span class="lineno">  157</span>    <span class="keyword">auto</span> frame = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a549858502631f0cdcd9a9595c8e7535d">serialize_settings_frame</a>(settings, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  158</span>    <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(frame);</div>
<div class="line"><span class="lineno">  159</span>}</div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a549858502631f0cdcd9a9595c8e7535d"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a549858502631f0cdcd9a9595c8e7535d">coroute::http2::serialize_settings_frame</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_settings_frame(std::span&lt; const SettingsEntry &gt; settings, bool ack=false)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00065">frame.cpp:65</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249a86b581258034d690096160024ce1fce4"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249a86b581258034d690096160024ce1fce4">coroute::http2::SettingsId::MaxConcurrentStreams</a></div><div class="ttdeci">@ MaxConcurrentStreams</div></div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_ad2a5b5e537ea5498652acd5fa0c6f249ad7bb04dacc76fb308fd3146bad706503"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#ad2a5b5e537ea5498652acd5fa0c6f249ad7bb04dacc76fb308fd3146bad706503">coroute::http2::SettingsId::MaxHeaderListSize</a></div><div class="ttdeci">@ MaxHeaderListSize</div></div>
<div class="ttc" id="astructcoroute_1_1http2_1_1_connection_settings_html_ae5d5836d59a9df505da582ef396186e0"><div class="ttname"><a href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html#ae5d5836d59a9df505da582ef396186e0">coroute::http2::ConnectionSettings::max_header_list_size</a></div><div class="ttdeci">uint32_t max_header_list_size</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d42/connection_8hpp_source.html#l00029">connection.hpp:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae22921c23e3e07ddb6bd60728f50c06b" name="ae22921c23e3e07ddb6bd60728f50c06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae22921c23e3e07ddb6bd60728f50c06b">&#9670;&#160;</a></span>send_window_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::http2::Http2Connection::send_window_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stream_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>increment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00647">647</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  647</span>                                                                                                      {</div>
<div class="line"><span class="lineno">  648</span>    <span class="keyword">auto</span> frame = <a class="code hl_function" href="../../d3/d68/namespacecoroute_1_1http2.html#a5a5e9621d4fa94b548648af3f4488977">serialize_window_update_frame</a>(stream_id, increment);</div>
<div class="line"><span class="lineno">  649</span>    <span class="keyword">co_return</span> <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#ac6d81340cadfe4c26b37b36fd4b9c019">send_frame</a>(frame);</div>
<div class="line"><span class="lineno">  650</span>}</div>
<div class="ttc" id="anamespacecoroute_1_1http2_html_a5a5e9621d4fa94b548648af3f4488977"><div class="ttname"><a href="../../d3/d68/namespacecoroute_1_1http2.html#a5a5e9621d4fa94b548648af3f4488977">coroute::http2::serialize_window_update_frame</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; serialize_window_update_frame(uint32_t stream_id, uint32_t window_size_increment)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d14/frame_8cpp_source.html#l00165">frame.cpp:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="affbafae2681fa975aec2e3ec07a5336c" name="affbafae2681fa975aec2e3ec07a5336c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbafae2681fa975aec2e3ec07a5336c">&#9670;&#160;</a></span>set_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> coroute::http2::Http2Connection::set_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a8fe2302b710563688fbe6acc32dfb741">RequestHandler</a>&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00090">90</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{ <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a24cdd8c75f1d820dcf6c235269e03bc7">handler_</a> = std::move(handler); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a736a01e71a6ea8fd2ce0d1177ff3a37b" name="a736a01e71a6ea8fd2ce0d1177ff3a37b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736a01e71a6ea8fd2ce0d1177ff3a37b">&#9670;&#160;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> &gt; coroute::http2::Http2Connection::shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a>&#160;</td>
          <td class="paramname"><em>error</em> = <code><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a70a47cae4eb221930f2663fd244369ea">ErrorCode::NoError</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>debug</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00122">122</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                                                          {</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a376f2bb255034548911ad38318b8fac3">goaway_sent_</a>) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">co_return</span>;</div>
<div class="line"><span class="lineno">  125</span>    }</div>
<div class="line"><span class="lineno">  126</span>    </div>
<div class="line"><span class="lineno">  127</span>    <span class="keyword">co_await</span> <a class="code hl_function" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a60f35fe9fa87ef04c153b34692499f3e">send_goaway</a>(error, debug);</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#aa3470a1e2f6b7f60ce8ed761be8eba24">is_open_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  129</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5ab1f23bacec6b99dee33934bc0e39c" name="ab5ab1f23bacec6b99dee33934bc0e39c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ab1f23bacec6b99dee33934bc0e39c">&#9670;&#160;</a></span>update_connection_window()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> coroute::http2::Http2Connection::update_connection_window </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a>&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/db6/connection_8cpp_source.html#l00131">131</a> of file <a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>                                                            {</div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_variable" href="../../d0/d1c/classcoroute_1_1http2_1_1_http2_connection.html#a8785e64a8f796bd6ee72a2cd855df18e">remote_window_size_</a> += delta;</div>
<div class="line"><span class="lineno">  133</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="af6b51d941939ed63515c1836288ac58c" name="af6b51d941939ed63515c1836288ac58c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b51d941939ed63515c1836288ac58c">&#9670;&#160;</a></span>active_streams_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="../../df/d44/classcoroute_1_1_task.html">size_t</a>&gt; coroute::http2::Http2Connection::active_streams_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00061">61</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2122678fc3a451520dd64509ccba0674" name="a2122678fc3a451520dd64509ccba0674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2122678fc3a451520dd64509ccba0674">&#9670;&#160;</a></span>conn_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a>&gt; coroute::http2::Http2Connection::conn_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00043">43</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="ae6a88ea691757edca234b2323e74d118" name="ae6a88ea691757edca234b2323e74d118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a88ea691757edca234b2323e74d118">&#9670;&#160;</a></span>decoder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc1/classcoroute_1_1http2_1_1_hpack_decoder.html">HpackDecoder</a> coroute::http2::Http2Connection::decoder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00047">47</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a2ea1f74dd8e3dd4833a030e11fb89acf" name="a2ea1f74dd8e3dd4833a030e11fb89acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea1f74dd8e3dd4833a030e11fb89acf">&#9670;&#160;</a></span>encoder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d3b/classcoroute_1_1http2_1_1_hpack_encoder.html">HpackEncoder</a> coroute::http2::Http2Connection::encoder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00046">46</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a9977d62501b4816d1b5252f179b8b3e6" name="a9977d62501b4816d1b5252f179b8b3e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9977d62501b4816d1b5252f179b8b3e6">&#9670;&#160;</a></span>goaway_error_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62">ErrorCode</a> coroute::http2::Http2Connection::goaway_error_ = <a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a3ec8ce8257a8c12a14c2edfb8648ae62a70a47cae4eb221930f2663fd244369ea">ErrorCode::NoError</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00068">68</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a376f2bb255034548911ad38318b8fac3" name="a376f2bb255034548911ad38318b8fac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376f2bb255034548911ad38318b8fac3">&#9670;&#160;</a></span>goaway_sent_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::http2::Http2Connection::goaway_sent_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00067">67</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a24cdd8c75f1d820dcf6c235269e03bc7" name="a24cdd8c75f1d820dcf6c235269e03bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24cdd8c75f1d820dcf6c235269e03bc7">&#9670;&#160;</a></span>handler_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d68/namespacecoroute_1_1http2.html#a8fe2302b710563688fbe6acc32dfb741">RequestHandler</a> coroute::http2::Http2Connection::handler_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00074">74</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="aa3470a1e2f6b7f60ce8ed761be8eba24" name="aa3470a1e2f6b7f60ce8ed761be8eba24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3470a1e2f6b7f60ce8ed761be8eba24">&#9670;&#160;</a></span>is_open_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&gt; coroute::http2::Http2Connection::is_open_ {<a class="el" href="../../df/d44/classcoroute_1_1_task.html">true</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00064">64</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{<span class="keyword">true</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97157ee74750765e6ebf59ebee99575e" name="a97157ee74750765e6ebf59ebee99575e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97157ee74750765e6ebf59ebee99575e">&#9670;&#160;</a></span>last_stream_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> coroute::http2::Http2Connection::last_stream_id_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00059">59</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a48f5a3c1f88bae51ce8d5fd7ac2e643a" name="a48f5a3c1f88bae51ce8d5fd7ac2e643a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f5a3c1f88bae51ce8d5fd7ac2e643a">&#9670;&#160;</a></span>local_settings_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> coroute::http2::Http2Connection::local_settings_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00050">50</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a57b6a0215b32b14cad8ab0bee240742e" name="a57b6a0215b32b14cad8ab0bee240742e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b6a0215b32b14cad8ab0bee240742e">&#9670;&#160;</a></span>local_window_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a> coroute::http2::Http2Connection::local_window_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00054">54</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a923f15c85530338bfe86c71df41826c1" name="a923f15c85530338bfe86c71df41826c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a923f15c85530338bfe86c71df41826c1">&#9670;&#160;</a></span>next_server_stream_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a> coroute::http2::Http2Connection::next_server_stream_id_ = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00060">60</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a54e2121ec7773d240e4c84cb337a6843" name="a54e2121ec7773d240e4c84cb337a6843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e2121ec7773d240e4c84cb337a6843">&#9670;&#160;</a></span>preface_received_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::http2::Http2Connection::preface_received_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00065">65</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a44b31337189e45b317993feab919a7a7" name="a44b31337189e45b317993feab919a7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b31337189e45b317993feab919a7a7">&#9670;&#160;</a></span>read_buffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a>&gt; coroute::http2::Http2Connection::read_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00071">71</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a3383095ad3358ce78eb2893d2937067b" name="a3383095ad3358ce78eb2893d2937067b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3383095ad3358ce78eb2893d2937067b">&#9670;&#160;</a></span>remote_settings_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d53/structcoroute_1_1http2_1_1_connection_settings.html">ConnectionSettings</a> coroute::http2::Http2Connection::remote_settings_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00051">51</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a8785e64a8f796bd6ee72a2cd855df18e" name="a8785e64a8f796bd6ee72a2cd855df18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8785e64a8f796bd6ee72a2cd855df18e">&#9670;&#160;</a></span>remote_window_size_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int32_t</a> coroute::http2::Http2Connection::remote_window_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00055">55</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a5d860d642820a4d925979d4fd47238f7" name="a5d860d642820a4d925979d4fd47238f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d860d642820a4d925979d4fd47238f7">&#9670;&#160;</a></span>settings_ack_received_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::http2::Http2Connection::settings_ack_received_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00066">66</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="af5ffe278c2cbe6e948a03b9a70dcf3b2" name="af5ffe278c2cbe6e948a03b9a70dcf3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ffe278c2cbe6e948a03b9a70dcf3b2">&#9670;&#160;</a></span>streams_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="../../df/d44/classcoroute_1_1_task.html">uint32_t</a>, std::unique_ptr&lt;<a class="el" href="../../df/d38/classcoroute_1_1http2_1_1_stream.html">Stream</a>&gt; &gt; coroute::http2::Http2Connection::streams_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00058">58</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a8e2dafbfb975bf4aba2a60e0f8674513" name="a8e2dafbfb975bf4aba2a60e0f8674513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e2dafbfb975bf4aba2a60e0f8674513">&#9670;&#160;</a></span>streams_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex coroute::http2::Http2Connection::streams_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d42/connection_8hpp_source.html#l00077">77</a> of file <a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/coroute/http2/<a class="el" href="../../dd/d42/connection_8hpp_source.html">connection.hpp</a></li>
<li>src/http2/<a class="el" href="../../df/db6/connection_8cpp_source.html">connection.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
