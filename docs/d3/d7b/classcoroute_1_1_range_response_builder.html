<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebFrame++: coroute::RangeResponseBuilder Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebFrame++<span id="projectnumber">&#160;v2.0.0</span>
   </div>
   <div id="projectbrief">Modern C++20 Coroutine-based Web Framework with HTTP/2, TLS, and WebSocket support</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d6f/namespacecoroute.html">coroute</a></li><li class="navelem"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">coroute::RangeResponseBuilder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acd2a687f232f6cb9c577810c80ed800f" id="r_acd2a687f232f6cb9c577810c80ed800f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#acd2a687f232f6cb9c577810c80ed800f">content</a> (std::string data, std::string content_type)</td></tr>
<tr class="separator:acd2a687f232f6cb9c577810c80ed800f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2029c8816f343386c80aa4de7bfa51a" id="r_ab2029c8816f343386c80aa4de7bfa51a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::string &amp;path, std::string content_type)</td></tr>
<tr class="separator:ab2029c8816f343386c80aa4de7bfa51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba0508128bb485788cdf23bc255f0de" id="r_aeba0508128bb485788cdf23bc255f0de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#aeba0508128bb485788cdf23bc255f0de">etag</a> (std::string value)</td></tr>
<tr class="separator:aeba0508128bb485788cdf23bc255f0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5fb50de7b622af6928f03e9f9e792e" id="r_afd5fb50de7b622af6928f03e9f9e792e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afd5fb50de7b622af6928f03e9f9e792e">last_modified</a> (std::string value)</td></tr>
<tr class="separator:afd5fb50de7b622af6928f03e9f9e792e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb8d4fd8efead168bd445cd15fbfb36" id="r_a0bb8d4fd8efead168bd445cd15fbfb36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0bb8d4fd8efead168bd445cd15fbfb36">build</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d7/dd1/classcoroute_1_1_request.html">Request</a> &amp;<a class="el" href="../../df/d44/classcoroute_1_1_task.html">req</a>)</td></tr>
<tr class="separator:a0bb8d4fd8efead168bd445cd15fbfb36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8365780415c05adb9411de3348f139d0" id="r_a8365780415c05adb9411de3348f139d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a8365780415c05adb9411de3348f139d0">build_range</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> start, <a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> end)</td></tr>
<tr class="separator:a8365780415c05adb9411de3348f139d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcfca48c028aee6977409477dd85f3c4" id="r_adcfca48c028aee6977409477dd85f3c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#adcfca48c028aee6977409477dd85f3c4">build_full</a> ()</td></tr>
<tr class="separator:adcfca48c028aee6977409477dd85f3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a36e4c6c3b044490ef733ad71431a5889" id="r_a36e4c6c3b044490ef733ad71431a5889"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a36e4c6c3b044490ef733ad71431a5889">read_file_range</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> start, <a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> length)</td></tr>
<tr class="separator:a36e4c6c3b044490ef733ad71431a5889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fab94d35b8932f5bb40277b51adb08a" id="r_a9fab94d35b8932f5bb40277b51adb08a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a9fab94d35b8932f5bb40277b51adb08a">build_single_range</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../da/d37/structcoroute_1_1_byte_range.html">ByteRange</a> &amp;range, <a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">total_size</a>)</td></tr>
<tr class="separator:a9fab94d35b8932f5bb40277b51adb08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2bbbc87547a6692359882b9aae9224" id="r_a7b2bbbc87547a6692359882b9aae9224"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a7b2bbbc87547a6692359882b9aae9224">build_multipart_range</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::vector&lt; <a class="el" href="../../da/d37/structcoroute_1_1_byte_range.html">ByteRange</a> &gt; &amp;ranges, <a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">total_size</a>)</td></tr>
<tr class="separator:a7b2bbbc87547a6692359882b9aae9224"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a07e2b8373167c9048e2c4609c2dfa5fa" id="r_a07e2b8373167c9048e2c4609c2dfa5fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">static</a> std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a07e2b8373167c9048e2c4609c2dfa5fa">generate_boundary</a> ()</td></tr>
<tr class="separator:a07e2b8373167c9048e2c4609c2dfa5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afe1f4c8f852a975db41eab91fe4c821c" id="r_afe1f4c8f852a975db41eab91fe4c821c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a></td></tr>
<tr class="separator:afe1f4c8f852a975db41eab91fe4c821c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b84212b28de8565a13e93229a769379" id="r_a2b84212b28de8565a13e93229a769379"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a> = &quot;application/<a class="el" href="../../df/d44/classcoroute_1_1_task.html">octet</a>-<a class="el" href="../../df/d44/classcoroute_1_1_task.html">stream&quot;</a></td></tr>
<tr class="separator:a2b84212b28de8565a13e93229a769379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4182bfd851fd086e9ac2e4d7d698a6b4" id="r_a4182bfd851fd086e9ac2e4d7d698a6b4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a></td></tr>
<tr class="separator:a4182bfd851fd086e9ac2e4d7d698a6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d308cfadc5685962ca0d54b7678ec4" id="r_af8d308cfadc5685962ca0d54b7678ec4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a></td></tr>
<tr class="separator:af8d308cfadc5685962ca0d54b7678ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d02feffa9e9e7cb11696f6046c767f2" id="r_a0d02feffa9e9e7cb11696f6046c767f2"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a></td></tr>
<tr class="separator:a0d02feffa9e9e7cb11696f6046c767f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbbf05aeb20b372320a8a23cbbead83" id="r_abbbbf05aeb20b372320a8a23cbbead83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:abbbbf05aeb20b372320a8a23cbbead83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00086">86</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0bb8d4fd8efead168bd445cd15fbfb36" name="a0bb8d4fd8efead168bd445cd15fbfb36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb8d4fd8efead168bd445cd15fbfb36">&#9670;&#160;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> coroute::RangeResponseBuilder::build </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../d7/dd1/classcoroute_1_1_request.html">Request</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00400">400</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  400</span>                                                       {</div>
<div class="line"><span class="lineno">  401</span>    <span class="comment">// Get total size</span></div>
<div class="line"><span class="lineno">  402</span>    int64_t total_size;</div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a>) {</div>
<div class="line"><span class="lineno">  404</span>        std::ifstream <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a>, std::ios::binary | std::ios::ate);</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>) {</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/df8/classcoroute_1_1_response.html#a5652cde2baa826653c55a7d09db24cf0">Response::not_found</a>();</div>
<div class="line"><span class="lineno">  407</span>        }</div>
<div class="line"><span class="lineno">  408</span>        total_size = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.tellg();</div>
<div class="line"><span class="lineno">  409</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  410</span>        total_size = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a>.size());</div>
<div class="line"><span class="lineno">  411</span>    }</div>
<div class="line"><span class="lineno">  412</span>    </div>
<div class="line"><span class="lineno">  413</span>    <span class="comment">// Check for Range header</span></div>
<div class="line"><span class="lineno">  414</span>    <span class="keyword">auto</span> range_header = <a class="code hl_function" href="../../d4/d4e/namespacecoroute_1_1range.html#a6e8ce454e2accb038789212d4c286d82">range::get_range</a>(req);</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (!range_header || !range_header-&gt;is_valid()) {</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#adcfca48c028aee6977409477dd85f3c4">build_full</a>();</div>
<div class="line"><span class="lineno">  417</span>    }</div>
<div class="line"><span class="lineno">  418</span>    </div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">// Check If-Range</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d4e/namespacecoroute_1_1range.html#a1ebe2168833646c23333cd31e05bc086">range::check_if_range</a>(req, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>)) {</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#adcfca48c028aee6977409477dd85f3c4">build_full</a>();</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>    </div>
<div class="line"><span class="lineno">  424</span>    <span class="comment">// Normalize and validate ranges</span></div>
<div class="line"><span class="lineno">  425</span>    std::vector&lt;ByteRange&gt; valid_ranges;</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> range : range_header-&gt;ranges) {</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">if</span> (range.normalize(total_size)) {</div>
<div class="line"><span class="lineno">  428</span>            valid_ranges.push_back(range);</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span>    </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (valid_ranges.empty()) {</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#a8fd505d49a5ea3c3c4d4c488e1608522">range_not_satisfiable</a>(total_size);</div>
<div class="line"><span class="lineno">  434</span>    }</div>
<div class="line"><span class="lineno">  435</span>    </div>
<div class="line"><span class="lineno">  436</span>    <span class="comment">// Single range vs multipart</span></div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> (valid_ranges.size() == 1) {</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a9fab94d35b8932f5bb40277b51adb08a">build_single_range</a>(valid_ranges[0], total_size);</div>
<div class="line"><span class="lineno">  439</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a7b2bbbc87547a6692359882b9aae9224">build_multipart_range</a>(valid_ranges, total_size);</div>
<div class="line"><span class="lineno">  441</span>    }</div>
<div class="line"><span class="lineno">  442</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a0d02feffa9e9e7cb11696f6046c767f2"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">coroute::RangeResponseBuilder::file_path_</a></div><div class="ttdeci">std::string file_path_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00117">range.hpp:117</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a4182bfd851fd086e9ac2e4d7d698a6b4"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">coroute::RangeResponseBuilder::etag_</a></div><div class="ttdeci">std::string etag_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00115">range.hpp:115</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a7b2bbbc87547a6692359882b9aae9224"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a7b2bbbc87547a6692359882b9aae9224">coroute::RangeResponseBuilder::build_multipart_range</a></div><div class="ttdeci">Response build_multipart_range(const std::vector&lt; ByteRange &gt; &amp;ranges, int64_t total_size)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00354">range.cpp:354</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a9fab94d35b8932f5bb40277b51adb08a"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a9fab94d35b8932f5bb40277b51adb08a">coroute::RangeResponseBuilder::build_single_range</a></div><div class="ttdeci">Response build_single_range(const ByteRange &amp;range, int64_t total_size)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00321">range.cpp:321</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_ab2029c8816f343386c80aa4de7bfa51a"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">coroute::RangeResponseBuilder::file</a></div><div class="ttdeci">RangeResponseBuilder &amp; file(const std::string &amp;path, std::string content_type)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00241">range.cpp:241</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_abbbbf05aeb20b372320a8a23cbbead83"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">coroute::RangeResponseBuilder::use_file_</a></div><div class="ttdeci">bool use_file_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00118">range.hpp:118</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_adcfca48c028aee6977409477dd85f3c4"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#adcfca48c028aee6977409477dd85f3c4">coroute::RangeResponseBuilder::build_full</a></div><div class="ttdeci">Response build_full()</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00291">range.cpp:291</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_af8d308cfadc5685962ca0d54b7678ec4"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">coroute::RangeResponseBuilder::last_modified_</a></div><div class="ttdeci">std::string last_modified_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00116">range.hpp:116</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_afe1f4c8f852a975db41eab91fe4c821c"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">coroute::RangeResponseBuilder::content_</a></div><div class="ttdeci">std::string content_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00113">range.hpp:113</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_response_html_a5652cde2baa826653c55a7d09db24cf0"><div class="ttname"><a href="../../d3/df8/classcoroute_1_1_response.html#a5652cde2baa826653c55a7d09db24cf0">coroute::Response::not_found</a></div><div class="ttdeci">static Response not_found(std::string body=&quot;Not Found&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../db/da4/response_8hpp_source.html#l00107">response.hpp:107</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1range_html_a1ebe2168833646c23333cd31e05bc086"><div class="ttname"><a href="../../d4/d4e/namespacecoroute_1_1range.html#a1ebe2168833646c23333cd31e05bc086">coroute::range::check_if_range</a></div><div class="ttdeci">bool check_if_range(const Request &amp;req, std::string_view etag, std::string_view last_modified)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00205">range.cpp:205</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1range_html_a6e8ce454e2accb038789212d4c286d82"><div class="ttname"><a href="../../d4/d4e/namespacecoroute_1_1range.html#a6e8ce454e2accb038789212d4c286d82">coroute::range::get_range</a></div><div class="ttdeci">std::optional&lt; RangeHeader &gt; get_range(const Request &amp;req)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00197">range.cpp:197</a></div></div>
<div class="ttc" id="anamespacecoroute_html_a8fd505d49a5ea3c3c4d4c488e1608522"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#a8fd505d49a5ea3c3c4d4c488e1608522">coroute::range_not_satisfiable</a></div><div class="ttdeci">Response range_not_satisfiable(int64_t total_size)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00491">range.cpp:491</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adcfca48c028aee6977409477dd85f3c4" name="adcfca48c028aee6977409477dd85f3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcfca48c028aee6977409477dd85f3c4">&#9670;&#160;</a></span>build_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> coroute::RangeResponseBuilder::build_full </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00291">291</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                          {</div>
<div class="line"><span class="lineno">  292</span>    Response resp;</div>
<div class="line"><span class="lineno">  293</span>    resp.set_status(200);</div>
<div class="line"><span class="lineno">  294</span>    resp.set_header(<span class="stringliteral">&quot;Content-Type&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a>);</div>
<div class="line"><span class="lineno">  295</span>    resp.set_header(<span class="stringliteral">&quot;Accept-Ranges&quot;</span>, <span class="stringliteral">&quot;bytes&quot;</span>);</div>
<div class="line"><span class="lineno">  296</span>    </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>.empty()) {</div>
<div class="line"><span class="lineno">  298</span>        resp.set_header(<span class="stringliteral">&quot;ETag&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>);</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>.empty()) {</div>
<div class="line"><span class="lineno">  301</span>        resp.set_header(<span class="stringliteral">&quot;Last-Modified&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>);</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span>    </div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a>) {</div>
<div class="line"><span class="lineno">  305</span>        std::ifstream <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a>, std::ios::binary | std::ios::ate);</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>) {</div>
<div class="line"><span class="lineno">  307</span>            <span class="keyword">auto</span> size = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.tellg();</div>
<div class="line"><span class="lineno">  308</span>            <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.seekg(0);</div>
<div class="line"><span class="lineno">  309</span>            std::string data(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(size), <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">  310</span>            <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.read(data.data(), size);</div>
<div class="line"><span class="lineno">  311</span>            resp.set_body(std::move(data));</div>
<div class="line"><span class="lineno">  312</span>        }</div>
<div class="line"><span class="lineno">  313</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  314</span>        resp.set_body(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a>);</div>
<div class="line"><span class="lineno">  315</span>    }</div>
<div class="line"><span class="lineno">  316</span>    </div>
<div class="line"><span class="lineno">  317</span>    resp.set_header(<span class="stringliteral">&quot;Content-Length&quot;</span>, std::to_string(resp.body().size()));</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">return</span> resp;</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a2b84212b28de8565a13e93229a769379"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">coroute::RangeResponseBuilder::content_type_</a></div><div class="ttdeci">std::string content_type_</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d53/range_8hpp_source.html#l00114">range.hpp:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b2bbbc87547a6692359882b9aae9224" name="a7b2bbbc87547a6692359882b9aae9224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2bbbc87547a6692359882b9aae9224">&#9670;&#160;</a></span>build_multipart_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> coroute::RangeResponseBuilder::build_multipart_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::vector&lt; <a class="el" href="../../da/d37/structcoroute_1_1_byte_range.html">ByteRange</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ranges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>total_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00354">354</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  354</span>                                                                                                           {</div>
<div class="line"><span class="lineno">  355</span>    std::string boundary = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a07e2b8373167c9048e2c4609c2dfa5fa">generate_boundary</a>();</div>
<div class="line"><span class="lineno">  356</span>    </div>
<div class="line"><span class="lineno">  357</span>    Response resp;</div>
<div class="line"><span class="lineno">  358</span>    resp.set_status(206);</div>
<div class="line"><span class="lineno">  359</span>    resp.set_header(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;multipart/byteranges; boundary=&quot;</span> + boundary);</div>
<div class="line"><span class="lineno">  360</span>    resp.set_header(<span class="stringliteral">&quot;Accept-Ranges&quot;</span>, <span class="stringliteral">&quot;bytes&quot;</span>);</div>
<div class="line"><span class="lineno">  361</span>    </div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>.empty()) {</div>
<div class="line"><span class="lineno">  363</span>        resp.set_header(<span class="stringliteral">&quot;ETag&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>);</div>
<div class="line"><span class="lineno">  364</span>    }</div>
<div class="line"><span class="lineno">  365</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>.empty()) {</div>
<div class="line"><span class="lineno">  366</span>        resp.set_header(<span class="stringliteral">&quot;Last-Modified&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>);</div>
<div class="line"><span class="lineno">  367</span>    }</div>
<div class="line"><span class="lineno">  368</span>    </div>
<div class="line"><span class="lineno">  369</span>    std::ostringstream body;</div>
<div class="line"><span class="lineno">  370</span>    </div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; range : ranges) {</div>
<div class="line"><span class="lineno">  372</span>        body &lt;&lt; <span class="stringliteral">&quot;--&quot;</span> &lt;&lt; boundary &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  373</span>        body &lt;&lt; <span class="stringliteral">&quot;Content-Type: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a> &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  374</span>        body &lt;&lt; <span class="stringliteral">&quot;Content-Range: &quot;</span> &lt;&lt; range.to_content_range(total_size) &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  375</span>        body &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  376</span>        </div>
<div class="line"><span class="lineno">  377</span>        <span class="comment">// Extract range data</span></div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a>) {</div>
<div class="line"><span class="lineno">  379</span>            <span class="keyword">auto</span> file_data = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a36e4c6c3b044490ef733ad71431a5889">read_file_range</a>(range.get_start(), range.length());</div>
<div class="line"><span class="lineno">  380</span>            <span class="keywordflow">if</span> (file_data) {</div>
<div class="line"><span class="lineno">  381</span>                body &lt;&lt; *file_data;</div>
<div class="line"><span class="lineno">  382</span>            }</div>
<div class="line"><span class="lineno">  383</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  384</span>            body &lt;&lt; <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a>.substr(</div>
<div class="line"><span class="lineno">  385</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(range.get_start()),</div>
<div class="line"><span class="lineno">  386</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(range.length())</div>
<div class="line"><span class="lineno">  387</span>            );</div>
<div class="line"><span class="lineno">  388</span>        }</div>
<div class="line"><span class="lineno">  389</span>        body &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  390</span>    }</div>
<div class="line"><span class="lineno">  391</span>    </div>
<div class="line"><span class="lineno">  392</span>    body &lt;&lt; <span class="stringliteral">&quot;--&quot;</span> &lt;&lt; boundary &lt;&lt; <span class="stringliteral">&quot;--\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  393</span>    </div>
<div class="line"><span class="lineno">  394</span>    std::string body_str = body.str();</div>
<div class="line"><span class="lineno">  395</span>    resp.set_header(<span class="stringliteral">&quot;Content-Length&quot;</span>, std::to_string(body_str.size()));</div>
<div class="line"><span class="lineno">  396</span>    resp.set_body(std::move(body_str));</div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">return</span> resp;</div>
<div class="line"><span class="lineno">  398</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a07e2b8373167c9048e2c4609c2dfa5fa"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a07e2b8373167c9048e2c4609c2dfa5fa">coroute::RangeResponseBuilder::generate_boundary</a></div><div class="ttdeci">static std::string generate_boundary()</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00278">range.cpp:278</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_range_response_builder_html_a36e4c6c3b044490ef733ad71431a5889"><div class="ttname"><a href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a36e4c6c3b044490ef733ad71431a5889">coroute::RangeResponseBuilder::read_file_range</a></div><div class="ttdeci">std::optional&lt; std::string &gt; read_file_range(int64_t start, int64_t length)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dd6/range_8cpp_source.html#l00258">range.cpp:258</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8365780415c05adb9411de3348f139d0" name="a8365780415c05adb9411de3348f139d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8365780415c05adb9411de3348f139d0">&#9670;&#160;</a></span>build_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> coroute::RangeResponseBuilder::build_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00444">444</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  444</span>                                                                     {</div>
<div class="line"><span class="lineno">  445</span>    int64_t total_size;</div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a>) {</div>
<div class="line"><span class="lineno">  447</span>        std::ifstream <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a>, std::ios::binary | std::ios::ate);</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>) {</div>
<div class="line"><span class="lineno">  449</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/df8/classcoroute_1_1_response.html#a5652cde2baa826653c55a7d09db24cf0">Response::not_found</a>();</div>
<div class="line"><span class="lineno">  450</span>        }</div>
<div class="line"><span class="lineno">  451</span>        total_size = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.tellg();</div>
<div class="line"><span class="lineno">  452</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  453</span>        total_size = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a>.size());</div>
<div class="line"><span class="lineno">  454</span>    }</div>
<div class="line"><span class="lineno">  455</span>    </div>
<div class="line"><span class="lineno">  456</span>    ByteRange range;</div>
<div class="line"><span class="lineno">  457</span>    range.start = start;</div>
<div class="line"><span class="lineno">  458</span>    range.end = end;</div>
<div class="line"><span class="lineno">  459</span>    </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">if</span> (!range.normalize(total_size)) {</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#a8fd505d49a5ea3c3c4d4c488e1608522">range_not_satisfiable</a>(total_size);</div>
<div class="line"><span class="lineno">  462</span>    }</div>
<div class="line"><span class="lineno">  463</span>    </div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a9fab94d35b8932f5bb40277b51adb08a">build_single_range</a>(range, total_size);</div>
<div class="line"><span class="lineno">  465</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fab94d35b8932f5bb40277b51adb08a" name="a9fab94d35b8932f5bb40277b51adb08a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fab94d35b8932f5bb40277b51adb08a">&#9670;&#160;</a></span>build_single_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> coroute::RangeResponseBuilder::build_single_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../da/d37/structcoroute_1_1_byte_range.html">ByteRange</a> &amp;&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>total_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00321">321</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  321</span>                                                                                            {</div>
<div class="line"><span class="lineno">  322</span>    Response resp;</div>
<div class="line"><span class="lineno">  323</span>    resp.set_status(206);</div>
<div class="line"><span class="lineno">  324</span>    resp.set_header(<span class="stringliteral">&quot;Content-Type&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a>);</div>
<div class="line"><span class="lineno">  325</span>    resp.set_header(<span class="stringliteral">&quot;Accept-Ranges&quot;</span>, <span class="stringliteral">&quot;bytes&quot;</span>);</div>
<div class="line"><span class="lineno">  326</span>    resp.set_header(<span class="stringliteral">&quot;Content-Range&quot;</span>, range.to_content_range(total_size));</div>
<div class="line"><span class="lineno">  327</span>    </div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>.empty()) {</div>
<div class="line"><span class="lineno">  329</span>        resp.set_header(<span class="stringliteral">&quot;ETag&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a>);</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>.empty()) {</div>
<div class="line"><span class="lineno">  332</span>        resp.set_header(<span class="stringliteral">&quot;Last-Modified&quot;</span>, <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a>);</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span>    </div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">// Extract the range data</span></div>
<div class="line"><span class="lineno">  336</span>    std::string data;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a>) {</div>
<div class="line"><span class="lineno">  338</span>        <span class="keyword">auto</span> file_data = <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a36e4c6c3b044490ef733ad71431a5889">read_file_range</a>(range.get_start(), range.length());</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">if</span> (file_data) {</div>
<div class="line"><span class="lineno">  340</span>            data = std::move(*file_data);</div>
<div class="line"><span class="lineno">  341</span>        }</div>
<div class="line"><span class="lineno">  342</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  343</span>        data = <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a>.substr(</div>
<div class="line"><span class="lineno">  344</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(range.get_start()),</div>
<div class="line"><span class="lineno">  345</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(range.length())</div>
<div class="line"><span class="lineno">  346</span>        );</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span>    </div>
<div class="line"><span class="lineno">  349</span>    resp.set_header(<span class="stringliteral">&quot;Content-Length&quot;</span>, std::to_string(data.size()));</div>
<div class="line"><span class="lineno">  350</span>    resp.set_body(std::move(data));</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">return</span> resp;</div>
<div class="line"><span class="lineno">  352</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acd2a687f232f6cb9c577810c80ed800f" name="acd2a687f232f6cb9c577810c80ed800f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd2a687f232f6cb9c577810c80ed800f">&#9670;&#160;</a></span>content()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp; coroute::RangeResponseBuilder::content </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>content_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00234">234</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span>                                                                                          {</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#afe1f4c8f852a975db41eab91fe4c821c">content_</a> = std::move(data);</div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a> = std::move(content_type);</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  239</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeba0508128bb485788cdf23bc255f0de" name="aeba0508128bb485788cdf23bc255f0de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba0508128bb485788cdf23bc255f0de">&#9670;&#160;</a></span>etag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp; coroute::RangeResponseBuilder::etag </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00248">248</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>                                                                {</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a4182bfd851fd086e9ac2e4d7d698a6b4">etag_</a> = std::move(value);</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  251</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2029c8816f343386c80aa4de7bfa51a" name="ab2029c8816f343386c80aa4de7bfa51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2029c8816f343386c80aa4de7bfa51a">&#9670;&#160;</a></span>file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp; coroute::RangeResponseBuilder::file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>content_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00241">241</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>                                                                                              {</div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a> = path;</div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a2b84212b28de8565a13e93229a769379">content_type_</a> = std::move(content_type);</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#abbbbf05aeb20b372320a8a23cbbead83">use_file_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  246</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a07e2b8373167c9048e2c4609c2dfa5fa" name="a07e2b8373167c9048e2c4609c2dfa5fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e2b8373167c9048e2c4609c2dfa5fa">&#9670;&#160;</a></span>generate_boundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::generate_boundary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00278">278</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>                                                  {</div>
<div class="line"><span class="lineno">  279</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> chars[] = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;</div>
<div class="line"><span class="lineno">  280</span>    std::random_device rd;</div>
<div class="line"><span class="lineno">  281</span>    std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">  282</span>    std::uniform_int_distribution&lt;&gt; dis(0, 15);</div>
<div class="line"><span class="lineno">  283</span>    </div>
<div class="line"><span class="lineno">  284</span>    std::string boundary = <span class="stringliteral">&quot;----corouteBoundary&quot;</span>;</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 16; i++) {</div>
<div class="line"><span class="lineno">  286</span>        boundary += chars[dis(gen)];</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">return</span> boundary;</div>
<div class="line"><span class="lineno">  289</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd5fb50de7b622af6928f03e9f9e792e" name="afd5fb50de7b622af6928f03e9f9e792e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5fb50de7b622af6928f03e9f9e792e">&#9670;&#160;</a></span>last_modified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html">RangeResponseBuilder</a> &amp; coroute::RangeResponseBuilder::last_modified </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00253">253</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>                                                                         {</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#af8d308cfadc5685962ca0d54b7678ec4">last_modified_</a> = std::move(value);</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  256</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36e4c6c3b044490ef733ad71431a5889" name="a36e4c6c3b044490ef733ad71431a5889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e4c6c3b044490ef733ad71431a5889">&#9670;&#160;</a></span>read_file_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string &gt; coroute::RangeResponseBuilder::read_file_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dd6/range_8cpp_source.html#l00258">258</a> of file <a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>                                                                                          {</div>
<div class="line"><span class="lineno">  259</span>    std::ifstream <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>(<a class="code hl_variable" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#a0d02feffa9e9e7cb11696f6046c767f2">file_path_</a>, std::ios::binary);</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>) {</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span>    </div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.seekg(start);</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>) {</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  267</span>    }</div>
<div class="line"><span class="lineno">  268</span>    </div>
<div class="line"><span class="lineno">  269</span>    std::string data(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(length), <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.read(data.data(), length)) {</div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">// Partial read is okay at end of file</span></div>
<div class="line"><span class="lineno">  272</span>        data.resize(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d3/d7b/classcoroute_1_1_range_response_builder.html#ab2029c8816f343386c80aa4de7bfa51a">file</a>.gcount()));</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span>    </div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">return</span> data;</div>
<div class="line"><span class="lineno">  276</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="afe1f4c8f852a975db41eab91fe4c821c" name="afe1f4c8f852a975db41eab91fe4c821c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1f4c8f852a975db41eab91fe4c821c">&#9670;&#160;</a></span>content_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::content_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00113">113</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<a id="a2b84212b28de8565a13e93229a769379" name="a2b84212b28de8565a13e93229a769379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b84212b28de8565a13e93229a769379">&#9670;&#160;</a></span>content_type_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::content_type_ = &quot;application/<a class="el" href="../../df/d44/classcoroute_1_1_task.html">octet</a>-<a class="el" href="../../df/d44/classcoroute_1_1_task.html">stream&quot;</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00114">114</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<a id="a4182bfd851fd086e9ac2e4d7d698a6b4" name="a4182bfd851fd086e9ac2e4d7d698a6b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4182bfd851fd086e9ac2e4d7d698a6b4">&#9670;&#160;</a></span>etag_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::etag_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00115">115</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<a id="a0d02feffa9e9e7cb11696f6046c767f2" name="a0d02feffa9e9e7cb11696f6046c767f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d02feffa9e9e7cb11696f6046c767f2">&#9670;&#160;</a></span>file_path_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::file_path_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00117">117</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<a id="af8d308cfadc5685962ca0d54b7678ec4" name="af8d308cfadc5685962ca0d54b7678ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d308cfadc5685962ca0d54b7678ec4">&#9670;&#160;</a></span>last_modified_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string coroute::RangeResponseBuilder::last_modified_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00116">116</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<a id="abbbbf05aeb20b372320a8a23cbbead83" name="abbbbf05aeb20b372320a8a23cbbead83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbbbf05aeb20b372320a8a23cbbead83">&#9670;&#160;</a></span>use_file_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::RangeResponseBuilder::use_file_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d53/range_8hpp_source.html#l00118">118</a> of file <a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/coroute/core/<a class="el" href="../../d2/d53/range_8hpp_source.html">range.hpp</a></li>
<li>src/core/<a class="el" href="../../de/dd6/range_8cpp_source.html">range.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
