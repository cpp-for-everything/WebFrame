<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebFrame++: include/coroute/net/websocket.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebFrame++<span id="projectnumber">&#160;v2.0.0</span>
   </div>
   <div id="projectbrief">Modern C++20 Coroutine-based Web Framework with HTTP/2, TLS, and WebSocket support</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(1); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_daec3a57c7a985a78b24271adc6b7c3a.html">coroute</a></li><li class="navelem"><a class="el" href="../../dir_e5f329dfb94803cb49fdb2dc4328d22e.html">net</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">websocket.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d84/websocket_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8e/io__context_8hpp.html">coroute/net/io_context.hpp</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d6f/request_8hpp.html">coroute/core/request.hpp</a>&quot;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/da4/response_8hpp.html">coroute/core/response.hpp</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/da1/task_8hpp.html">coroute/coro/task.hpp</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="../../d3/d77/expected_8hpp.html">coroute/util/expected.hpp</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;string_view&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;span&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d1/db8/namespacecoroute_1_1net.html">coroute::net</a> {</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">// WebSocket Frame Types (RFC 6455)</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="foldopen" id="foldopen00023" data-start="{" data-end="};">
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5e">   23</a></span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5e">WebSocketOpcode</a> : <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">uint8_t</a> {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5eaf11580a0250ef12842e64f487810cc70">Continuation</a> = 0x0,</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea9dffbf69ffba8bc38bc4e01abf4b1675">Text</a>         = 0x1,</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea6ce976e8f061b2b5cfe4d0c50c3405dd">Binary</a>       = 0x2,</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="comment">// 0x3-0x7 reserved for non-control frames</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ead3d2e617335f08df83599665eef8a418">Close</a>        = 0x8,</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5eab85815d04cec053ce6deb8021f2df1b8">Ping</a>         = 0x9,</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea4d94412495a32342e1b8c78f7960f2bc">Pong</a>         = 0xA,</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="comment">// 0xB-0xF reserved for control frames</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>};</div>
</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">// WebSocket Close Codes (RFC 6455 Section 7.4.1)</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="foldopen" id="foldopen00038" data-start="{" data-end="};">
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">   38</a></span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">WebSocketCloseCode</a> : <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">uint16_t</a> {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a960b44c579bc2f6818d2daaf9e4c16f0">Normal</a>           = 1000,  <span class="comment">// Normal closure</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315ab16f53879e8cacc9f1040facec98b2b8">GoingAway</a>        = 1001,  <span class="comment">// Endpoint going away (e.g., server shutdown)</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aca3da8f495e4e628912a7798655da6c2">ProtocolError</a>    = 1002,  <span class="comment">// Protocol error</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aa63d4c1207867216c93e257bfa05e818">UnsupportedData</a>  = 1003,  <span class="comment">// Unsupported data type</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="comment">// 1004 reserved</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a5bf8ff15f1501074bed95401c41ae356">NoStatusReceived</a> = 1005,  <span class="comment">// No status code (internal use only)</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a2b30f3b5089eda6904c45a3a56b897cb">AbnormalClosure</a>  = 1006,  <span class="comment">// Abnormal closure (internal use only)</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a2d730f4aa6a660e8825d5294008a4ef7">InvalidPayload</a>   = 1007,  <span class="comment">// Invalid frame payload data</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aaee43f65108573ca863298db0692a4f1">PolicyViolation</a>  = 1008,  <span class="comment">// Policy violation</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a27b656394c5563311cf8421c85a3d39b">MessageTooBig</a>    = 1009,  <span class="comment">// Message too big</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315adf49ffee56ab31de59374ffab831628d">MandatoryExt</a>     = 1010,  <span class="comment">// Missing mandatory extension</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a8462b58246e70e5c83e5b939a9332cb5">InternalError</a>    = 1011,  <span class="comment">// Internal server error</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a46c4b762ef54a456c0747c3ffb73f227">TlsHandshake</a>     = 1015,  <span class="comment">// TLS handshake failure (internal use only)</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>};</div>
</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">// WebSocket Message</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="foldopen" id="foldopen00058" data-start="{" data-end="};">
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html">   58</a></span><span class="keyword">struct </span><a class="code hl_struct" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html">WebSocketMessage</a> {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">   59</a></span>    <a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5e">WebSocketOpcode</a> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">   60</a></span>    std::vector&lt;uint8_t&gt; <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="comment">// Convenience accessors</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a404c504bbfad3043309cf7761d70fe06">   63</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a404c504bbfad3043309cf7761d70fe06">is_text</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a> == <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea9dffbf69ffba8bc38bc4e01abf4b1675">WebSocketOpcode::Text</a>; }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a08d4a4e6907c92d57850c77171e51c3f">   64</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a08d4a4e6907c92d57850c77171e51c3f">is_binary</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a> == <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea6ce976e8f061b2b5cfe4d0c50c3405dd">WebSocketOpcode::Binary</a>; }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a31c2a0fa941ed16e7e95031630e3ce08">   65</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a31c2a0fa941ed16e7e95031630e3ce08">is_close</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a> == <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ead3d2e617335f08df83599665eef8a418">WebSocketOpcode::Close</a>; }</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a6c3319da22560a05d982481af9cc81b0">   66</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a6c3319da22560a05d982481af9cc81b0">is_ping</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a> == <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5eab85815d04cec053ce6deb8021f2df1b8">WebSocketOpcode::Ping</a>; }</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ae7342ef6e3531f417776bc72d0ad45a7">   67</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ae7342ef6e3531f417776bc72d0ad45a7">is_pong</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">opcode</a> == <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea4d94412495a32342e1b8c78f7960f2bc">WebSocketOpcode::Pong</a>; }</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="comment">// Get text content (for text messages)</span></div>
<div class="foldopen" id="foldopen00070" data-start="{" data-end="}">
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a1adc56dc95dfb689fc2bc645848e79a8">   70</a></span>    std::string_view <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a1adc56dc95dfb689fc2bc645848e79a8">text</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <span class="keywordflow">return</span> std::string_view(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.data()), <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.size());</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    }</div>
</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">// Get close code (for close messages)</span></div>
<div class="foldopen" id="foldopen00075" data-start="{" data-end="}">
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#afe7e6bdd290dbb19e1572c2108e84755">   75</a></span>    <a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">WebSocketCloseCode</a> <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#afe7e6bdd290dbb19e1572c2108e84755">close_code</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.size() &gt;= 2) {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">WebSocketCloseCode</a><span class="keyword">&gt;</span>((<a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>[0] &lt;&lt; 8) | <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>[1]);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a5bf8ff15f1501074bed95401c41ae356">WebSocketCloseCode::NoStatusReceived</a>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    }</div>
</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// Get close reason (for close messages)</span></div>
<div class="foldopen" id="foldopen00083" data-start="{" data-end="}">
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a37533035824adffc770f2cb62460ae10">   83</a></span>    std::string_view <a class="code hl_function" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a37533035824adffc770f2cb62460ae10">close_reason</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.size() &gt; 2) {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>            <span class="keywordflow">return</span> std::string_view(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.data() + 2), <a class="code hl_variable" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">data</a>.size() - 2);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        }</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    }</div>
</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>};</div>
</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">// WebSocket Connection</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="foldopen" id="foldopen00095" data-start="{" data-end="};">
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html">   95</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html">WebSocketConnection</a> {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#acc0eaf8ee70f8f86ce3e74976c18a000">   97</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#acc0eaf8ee70f8f86ce3e74976c18a000">~WebSocketConnection</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="comment">// Receive next message (blocks until message arrives or connection closes)</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a81cde460603a510610ddd5edb1b2ce3e">  100</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;WebSocketMessage, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a81cde460603a510610ddd5edb1b2ce3e">receive</a>() = 0;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">// Send text message</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af548588701d6c4dac7d2c04500e5a258">  103</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;void, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af548588701d6c4dac7d2c04500e5a258">send_text</a>(std::string_view text) = 0;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// Send binary message</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a21d03bb476df2ab0e399253d2d2e073b">  106</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;void, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a21d03bb476df2ab0e399253d2d2e073b">send_binary</a>(std::span&lt;const uint8_t&gt; data) = 0;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">// Send ping</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af6f11866aa2fac91df6c584daca5a1b0">  109</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;void, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af6f11866aa2fac91df6c584daca5a1b0">ping</a>(std::span&lt;const uint8_t&gt; data = {}) = 0;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// Send pong (usually automatic in response to ping)</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aeebb8096cda323dc8872d68708f5a21e">  112</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;void, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aeebb8096cda323dc8872d68708f5a21e">pong</a>(std::span&lt;const uint8_t&gt; data = {}) = 0;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="comment">// Close connection with code and reason</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aae55c1fcff241e8be311698273d11049">  115</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;void, Error&gt;</a>&gt; <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aae55c1fcff241e8be311698273d11049">close</a>(</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">WebSocketCloseCode</a> code = <a class="code hl_enumvalue" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a960b44c579bc2f6818d2daaf9e4c16f0">WebSocketCloseCode::Normal</a>,</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        std::string_view <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">reason</a> = <span class="stringliteral">&quot;&quot;</span>) = 0;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="comment">// Check if connection is open</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#adf324fbdf9a3a1b84372ab4ccf91177c">  120</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#adf324fbdf9a3a1b84372ab4ccf91177c">is_open</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// Get remote address</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#ac0d6d813161610c862a68c5600ea1132">  123</a></span>    <span class="keyword">virtual</span> std::string <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#ac0d6d813161610c862a68c5600ea1132">remote_address</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">// Get remote port</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#abf10d04faf008faa5b27b8a73c899543">  126</a></span>    <span class="keyword">virtual</span> <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">uint16_t</a> <a class="code hl_function" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#abf10d04faf008faa5b27b8a73c899543">remote_port</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>};</div>
</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">// WebSocket Handshake</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">// Check if request is a WebSocket upgrade request</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../d1/db8/namespacecoroute_1_1net.html#aad718526557c4283165aab5db3a0dca8">is_websocket_upgrade</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../d7/dd1/classcoroute_1_1_request.html">Request</a>&amp; <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">req</a>);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">// Generate WebSocket accept key from client key</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>std::string <a class="code hl_function" href="../../d1/db8/namespacecoroute_1_1net.html#a2a950c081d2868afb63bf39c5c7ddbaf">compute_accept_key</a>(std::string_view <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">client_key</a>);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">// Create WebSocket upgrade response</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><a class="code hl_class" href="../../d3/df8/classcoroute_1_1_response.html">Response</a> <a class="code hl_function" href="../../d1/db8/namespacecoroute_1_1net.html#adac1d5162e16cc20f4caf836388d6ac3">create_upgrade_response</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../d7/dd1/classcoroute_1_1_request.html">Request</a>&amp; <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">req</a>);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment">// Upgrade an HTTP connection to WebSocket</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment">// Returns nullptr if upgrade fails</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">Task&lt;expected&lt;std::unique_ptr&lt;WebSocketConnection&gt;</a>, <a class="code hl_class" href="../../df/d01/classcoroute_1_1_error.html">Error</a>&gt;&gt; </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><a class="code hl_function" href="../../d1/db8/namespacecoroute_1_1net.html#ac3e4240989474cfee719abd7d3be27fa">upgrade_to_websocket</a>(std::unique_ptr&lt;Connection&gt; <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">conn</a>, <span class="keyword">const</span> <a class="code hl_class" href="../../d7/dd1/classcoroute_1_1_request.html">Request</a>&amp; <a class="code hl_class" href="../../df/d44/classcoroute_1_1_task.html">req</a>);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">// WebSocket Configuration</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="foldopen" id="foldopen00151" data-start="{" data-end="};">
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html">  151</a></span><span class="keyword">struct </span><a class="code hl_struct" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html">WebSocketConfig</a> {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// Maximum message size (default 16MB)</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a57038ebe5351a94da1ae5e16a9bda20a">  153</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a57038ebe5351a94da1ae5e16a9bda20a">max_message_size</a> = 16 * 1024 * 1024;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="comment">// Maximum frame size (default 64KB)</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a711be2dd1245977a7b13003edda04e12">  156</a></span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a711be2dd1245977a7b13003edda04e12">max_frame_size</a> = 64 * 1024;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="comment">// Ping interval (0 = disabled)</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a955489b9f41f7aaa7697964660a6081d">  159</a></span>    std::chrono::seconds <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a955489b9f41f7aaa7697964660a6081d">ping_interval</a>{30};</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// Pong timeout (0 = no timeout)</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a25dd6a42b7bfc49de05d86aa3464d063">  162</a></span>    std::chrono::seconds <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a25dd6a42b7bfc49de05d86aa3464d063">pong_timeout</a>{10};</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// Allowed origins (empty = allow all)</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a7ca69ee638091ce399c9d965e9f63f83">  165</a></span>    std::vector&lt;std::string&gt; <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a7ca69ee638091ce399c9d965e9f63f83">allowed_origins</a>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// Subprotocols supported by server</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#addf7d4f964b693f7c6339cdeb0fff82f">  168</a></span>    std::vector&lt;std::string&gt; <a class="code hl_variable" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#addf7d4f964b693f7c6339cdeb0fff82f">subprotocols</a>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>};</div>
</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>} <span class="comment">// namespace coroute::net</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../de/d6f/namespacecoroute.html">coroute</a> {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">// Re-export for convenience</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="keyword">using </span><a class="code hl_class" href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html">net::WebSocketConnection</a>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="keyword">using </span><a class="code hl_struct" href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html">net::WebSocketMessage</a>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="keyword">using </span><a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5e">net::WebSocketOpcode</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="keyword">using </span><a class="code hl_enumeration" href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">net::WebSocketCloseCode</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="keyword">using </span><a class="code hl_struct" href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html">net::WebSocketConfig</a>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment">// WebSocket Handler Type</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">// Handler function for WebSocket connections</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment">// Called when a WebSocket connection is established</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="../../de/d6f/namespacecoroute.html#aecb419c828ee193974671e084ddb85c7">  188</a></span><span class="keyword">using </span><a class="code hl_typedef" href="../../de/d6f/namespacecoroute.html#aecb419c828ee193974671e084ddb85c7">WebSocketHandler</a> = std::function&lt;Task&lt;void&gt;(std::unique_ptr&lt;WebSocketConnection&gt;)&gt;;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>} <span class="comment">// namespace coroute</span></div>
<div class="ttc" id="aclasscoroute_1_1_error_html"><div class="ttname"><a href="../../df/d01/classcoroute_1_1_error.html">coroute::Error</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d99/error_8hpp_source.html#l00079">error.hpp:79</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_request_html"><div class="ttname"><a href="../../d7/dd1/classcoroute_1_1_request.html">coroute::Request</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/d6f/request_8hpp_source.html#l00042">request.hpp:42</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_response_html"><div class="ttname"><a href="../../d3/df8/classcoroute_1_1_response.html">coroute::Response</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/da4/response_8hpp_source.html#l00027">response.hpp:27</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_task_html"><div class="ttname"><a href="../../df/d44/classcoroute_1_1_task.html">coroute::Task</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/da1/task_8hpp_source.html#l00121">task.hpp:121</a></div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html">coroute::net::WebSocketConnection</a></div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00095">websocket.hpp:95</a></div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_a21d03bb476df2ab0e399253d2d2e073b"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a21d03bb476df2ab0e399253d2d2e073b">coroute::net::WebSocketConnection::send_binary</a></div><div class="ttdeci">virtual Task&lt; expected&lt; void, Error &gt; &gt; send_binary(std::span&lt; const uint8_t &gt; data)=0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_a81cde460603a510610ddd5edb1b2ce3e"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#a81cde460603a510610ddd5edb1b2ce3e">coroute::net::WebSocketConnection::receive</a></div><div class="ttdeci">virtual Task&lt; expected&lt; WebSocketMessage, Error &gt; &gt; receive()=0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_aae55c1fcff241e8be311698273d11049"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aae55c1fcff241e8be311698273d11049">coroute::net::WebSocketConnection::close</a></div><div class="ttdeci">virtual Task&lt; expected&lt; void, Error &gt; &gt; close(WebSocketCloseCode code=WebSocketCloseCode::Normal, std::string_view reason=&quot;&quot;)=0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_abf10d04faf008faa5b27b8a73c899543"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#abf10d04faf008faa5b27b8a73c899543">coroute::net::WebSocketConnection::remote_port</a></div><div class="ttdeci">virtual uint16_t remote_port() const =0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_ac0d6d813161610c862a68c5600ea1132"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#ac0d6d813161610c862a68c5600ea1132">coroute::net::WebSocketConnection::remote_address</a></div><div class="ttdeci">virtual std::string remote_address() const =0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_acc0eaf8ee70f8f86ce3e74976c18a000"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#acc0eaf8ee70f8f86ce3e74976c18a000">coroute::net::WebSocketConnection::~WebSocketConnection</a></div><div class="ttdeci">virtual ~WebSocketConnection()=default</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_adf324fbdf9a3a1b84372ab4ccf91177c"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#adf324fbdf9a3a1b84372ab4ccf91177c">coroute::net::WebSocketConnection::is_open</a></div><div class="ttdeci">virtual bool is_open() const =0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_aeebb8096cda323dc8872d68708f5a21e"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#aeebb8096cda323dc8872d68708f5a21e">coroute::net::WebSocketConnection::pong</a></div><div class="ttdeci">virtual Task&lt; expected&lt; void, Error &gt; &gt; pong(std::span&lt; const uint8_t &gt; data={})=0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_af548588701d6c4dac7d2c04500e5a258"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af548588701d6c4dac7d2c04500e5a258">coroute::net::WebSocketConnection::send_text</a></div><div class="ttdeci">virtual Task&lt; expected&lt; void, Error &gt; &gt; send_text(std::string_view text)=0</div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_web_socket_connection_html_af6f11866aa2fac91df6c584daca5a1b0"><div class="ttname"><a href="../../d9/d0e/classcoroute_1_1net_1_1_web_socket_connection.html#af6f11866aa2fac91df6c584daca5a1b0">coroute::net::WebSocketConnection::ping</a></div><div class="ttdeci">virtual Task&lt; expected&lt; void, Error &gt; &gt; ping(std::span&lt; const uint8_t &gt; data={})=0</div></div>
<div class="ttc" id="aexpected_8hpp_html"><div class="ttname"><a href="../../d3/d77/expected_8hpp.html">expected.hpp</a></div></div>
<div class="ttc" id="aio__context_8hpp_html"><div class="ttname"><a href="../../d1/d8e/io__context_8hpp.html">io_context.hpp</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html">coroute::net</a></div><div class="ttdef"><b>Definition</b> <a href="../../d3/d16/connection__pool_8hpp_source.html#l00012">connection_pool.hpp:12</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315">coroute::net::WebSocketCloseCode</a></div><div class="ttdeci">WebSocketCloseCode</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00038">websocket.hpp:38</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a27b656394c5563311cf8421c85a3d39b"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a27b656394c5563311cf8421c85a3d39b">coroute::net::WebSocketCloseCode::MessageTooBig</a></div><div class="ttdeci">@ MessageTooBig</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a2b30f3b5089eda6904c45a3a56b897cb"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a2b30f3b5089eda6904c45a3a56b897cb">coroute::net::WebSocketCloseCode::AbnormalClosure</a></div><div class="ttdeci">@ AbnormalClosure</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a2d730f4aa6a660e8825d5294008a4ef7"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a2d730f4aa6a660e8825d5294008a4ef7">coroute::net::WebSocketCloseCode::InvalidPayload</a></div><div class="ttdeci">@ InvalidPayload</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a46c4b762ef54a456c0747c3ffb73f227"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a46c4b762ef54a456c0747c3ffb73f227">coroute::net::WebSocketCloseCode::TlsHandshake</a></div><div class="ttdeci">@ TlsHandshake</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a5bf8ff15f1501074bed95401c41ae356"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a5bf8ff15f1501074bed95401c41ae356">coroute::net::WebSocketCloseCode::NoStatusReceived</a></div><div class="ttdeci">@ NoStatusReceived</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a8462b58246e70e5c83e5b939a9332cb5"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a8462b58246e70e5c83e5b939a9332cb5">coroute::net::WebSocketCloseCode::InternalError</a></div><div class="ttdeci">@ InternalError</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315a960b44c579bc2f6818d2daaf9e4c16f0"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315a960b44c579bc2f6818d2daaf9e4c16f0">coroute::net::WebSocketCloseCode::Normal</a></div><div class="ttdeci">@ Normal</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315aa63d4c1207867216c93e257bfa05e818"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aa63d4c1207867216c93e257bfa05e818">coroute::net::WebSocketCloseCode::UnsupportedData</a></div><div class="ttdeci">@ UnsupportedData</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315aaee43f65108573ca863298db0692a4f1"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aaee43f65108573ca863298db0692a4f1">coroute::net::WebSocketCloseCode::PolicyViolation</a></div><div class="ttdeci">@ PolicyViolation</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315ab16f53879e8cacc9f1040facec98b2b8"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315ab16f53879e8cacc9f1040facec98b2b8">coroute::net::WebSocketCloseCode::GoingAway</a></div><div class="ttdeci">@ GoingAway</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315aca3da8f495e4e628912a7798655da6c2"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315aca3da8f495e4e628912a7798655da6c2">coroute::net::WebSocketCloseCode::ProtocolError</a></div><div class="ttdeci">@ ProtocolError</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a19c4fc490e357ad8fca1cd23a25c6315adf49ffee56ab31de59374ffab831628d"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a19c4fc490e357ad8fca1cd23a25c6315adf49ffee56ab31de59374ffab831628d">coroute::net::WebSocketCloseCode::MandatoryExt</a></div><div class="ttdeci">@ MandatoryExt</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_a2a950c081d2868afb63bf39c5c7ddbaf"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#a2a950c081d2868afb63bf39c5c7ddbaf">coroute::net::compute_accept_key</a></div><div class="ttdeci">std::string compute_accept_key(std::string_view client_key)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d7d/websocket_8cpp_source.html#l00078">websocket.cpp:78</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_aad718526557c4283165aab5db3a0dca8"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#aad718526557c4283165aab5db3a0dca8">coroute::net::is_websocket_upgrade</a></div><div class="ttdeci">bool is_websocket_upgrade(const Request &amp;req)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d7d/websocket_8cpp_source.html#l00051">websocket.cpp:51</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_ac3e4240989474cfee719abd7d3be27fa"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#ac3e4240989474cfee719abd7d3be27fa">coroute::net::upgrade_to_websocket</a></div><div class="ttdeci">Task&lt; expected&lt; std::unique_ptr&lt; WebSocketConnection &gt;, Error &gt; &gt; upgrade_to_websocket(std::unique_ptr&lt; Connection &gt; conn, const Request &amp;req)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d7d/websocket_8cpp_source.html#l00427">websocket.cpp:427</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_adac1d5162e16cc20f4caf836388d6ac3"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#adac1d5162e16cc20f4caf836388d6ac3">coroute::net::create_upgrade_response</a></div><div class="ttdeci">Response create_upgrade_response(const Request &amp;req)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d7d/websocket_8cpp_source.html#l00092">websocket.cpp:92</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5e"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5e">coroute::net::WebSocketOpcode</a></div><div class="ttdeci">WebSocketOpcode</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00023">websocket.hpp:23</a></div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5ea4d94412495a32342e1b8c78f7960f2bc"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea4d94412495a32342e1b8c78f7960f2bc">coroute::net::WebSocketOpcode::Pong</a></div><div class="ttdeci">@ Pong</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5ea6ce976e8f061b2b5cfe4d0c50c3405dd"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea6ce976e8f061b2b5cfe4d0c50c3405dd">coroute::net::WebSocketOpcode::Binary</a></div><div class="ttdeci">@ Binary</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5ea9dffbf69ffba8bc38bc4e01abf4b1675"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ea9dffbf69ffba8bc38bc4e01abf4b1675">coroute::net::WebSocketOpcode::Text</a></div><div class="ttdeci">@ Text</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5eab85815d04cec053ce6deb8021f2df1b8"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5eab85815d04cec053ce6deb8021f2df1b8">coroute::net::WebSocketOpcode::Ping</a></div><div class="ttdeci">@ Ping</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5ead3d2e617335f08df83599665eef8a418"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5ead3d2e617335f08df83599665eef8a418">coroute::net::WebSocketOpcode::Close</a></div><div class="ttdeci">@ Close</div></div>
<div class="ttc" id="anamespacecoroute_1_1net_html_afbbfe28c9f99233cc53c7623cb263d5eaf11580a0250ef12842e64f487810cc70"><div class="ttname"><a href="../../d1/db8/namespacecoroute_1_1net.html#afbbfe28c9f99233cc53c7623cb263d5eaf11580a0250ef12842e64f487810cc70">coroute::net::WebSocketOpcode::Continuation</a></div><div class="ttdeci">@ Continuation</div></div>
<div class="ttc" id="anamespacecoroute_html"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html">coroute</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00039">app.hpp:39</a></div></div>
<div class="ttc" id="anamespacecoroute_html_aecb419c828ee193974671e084ddb85c7"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#aecb419c828ee193974671e084ddb85c7">coroute::WebSocketHandler</a></div><div class="ttdeci">std::function&lt; Task&lt; void &gt;(std::unique_ptr&lt; WebSocketConnection &gt;)&gt; WebSocketHandler</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00188">websocket.hpp:188</a></div></div>
<div class="ttc" id="arequest_8hpp_html"><div class="ttname"><a href="../../d6/d6f/request_8hpp.html">request.hpp</a></div></div>
<div class="ttc" id="aresponse_8hpp_html"><div class="ttname"><a href="../../db/da4/response_8hpp.html">response.hpp</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html">coroute::net::WebSocketConfig</a></div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00151">websocket.hpp:151</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_a25dd6a42b7bfc49de05d86aa3464d063"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a25dd6a42b7bfc49de05d86aa3464d063">coroute::net::WebSocketConfig::pong_timeout</a></div><div class="ttdeci">std::chrono::seconds pong_timeout</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00162">websocket.hpp:162</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_a57038ebe5351a94da1ae5e16a9bda20a"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a57038ebe5351a94da1ae5e16a9bda20a">coroute::net::WebSocketConfig::max_message_size</a></div><div class="ttdeci">size_t max_message_size</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00153">websocket.hpp:153</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_a711be2dd1245977a7b13003edda04e12"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a711be2dd1245977a7b13003edda04e12">coroute::net::WebSocketConfig::max_frame_size</a></div><div class="ttdeci">size_t max_frame_size</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00156">websocket.hpp:156</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_a7ca69ee638091ce399c9d965e9f63f83"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a7ca69ee638091ce399c9d965e9f63f83">coroute::net::WebSocketConfig::allowed_origins</a></div><div class="ttdeci">std::vector&lt; std::string &gt; allowed_origins</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00165">websocket.hpp:165</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_a955489b9f41f7aaa7697964660a6081d"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#a955489b9f41f7aaa7697964660a6081d">coroute::net::WebSocketConfig::ping_interval</a></div><div class="ttdeci">std::chrono::seconds ping_interval</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00159">websocket.hpp:159</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_config_html_addf7d4f964b693f7c6339cdeb0fff82f"><div class="ttname"><a href="../../d9/d64/structcoroute_1_1net_1_1_web_socket_config.html#addf7d4f964b693f7c6339cdeb0fff82f">coroute::net::WebSocketConfig::subprotocols</a></div><div class="ttdeci">std::vector&lt; std::string &gt; subprotocols</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00168">websocket.hpp:168</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html">coroute::net::WebSocketMessage</a></div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00058">websocket.hpp:58</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a08d4a4e6907c92d57850c77171e51c3f"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a08d4a4e6907c92d57850c77171e51c3f">coroute::net::WebSocketMessage::is_binary</a></div><div class="ttdeci">bool is_binary() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00064">websocket.hpp:64</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a1adc56dc95dfb689fc2bc645848e79a8"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a1adc56dc95dfb689fc2bc645848e79a8">coroute::net::WebSocketMessage::text</a></div><div class="ttdeci">std::string_view text() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00070">websocket.hpp:70</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a31c2a0fa941ed16e7e95031630e3ce08"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a31c2a0fa941ed16e7e95031630e3ce08">coroute::net::WebSocketMessage::is_close</a></div><div class="ttdeci">bool is_close() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00065">websocket.hpp:65</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a37533035824adffc770f2cb62460ae10"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a37533035824adffc770f2cb62460ae10">coroute::net::WebSocketMessage::close_reason</a></div><div class="ttdeci">std::string_view close_reason() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00083">websocket.hpp:83</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a404c504bbfad3043309cf7761d70fe06"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a404c504bbfad3043309cf7761d70fe06">coroute::net::WebSocketMessage::is_text</a></div><div class="ttdeci">bool is_text() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00063">websocket.hpp:63</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_a6c3319da22560a05d982481af9cc81b0"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#a6c3319da22560a05d982481af9cc81b0">coroute::net::WebSocketMessage::is_ping</a></div><div class="ttdeci">bool is_ping() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00066">websocket.hpp:66</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_ad13f48194f977a498c9098c902ae05a9"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad13f48194f977a498c9098c902ae05a9">coroute::net::WebSocketMessage::data</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; data</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00060">websocket.hpp:60</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_ad2d94c5d72812d671101bf157f0c6de8"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ad2d94c5d72812d671101bf157f0c6de8">coroute::net::WebSocketMessage::opcode</a></div><div class="ttdeci">WebSocketOpcode opcode</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00059">websocket.hpp:59</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_ae7342ef6e3531f417776bc72d0ad45a7"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#ae7342ef6e3531f417776bc72d0ad45a7">coroute::net::WebSocketMessage::is_pong</a></div><div class="ttdeci">bool is_pong() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00067">websocket.hpp:67</a></div></div>
<div class="ttc" id="astructcoroute_1_1net_1_1_web_socket_message_html_afe7e6bdd290dbb19e1572c2108e84755"><div class="ttname"><a href="../../dd/da7/structcoroute_1_1net_1_1_web_socket_message.html#afe7e6bdd290dbb19e1572c2108e84755">coroute::net::WebSocketMessage::close_code</a></div><div class="ttdeci">WebSocketCloseCode close_code() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d84/websocket_8hpp_source.html#l00075">websocket.hpp:75</a></div></div>
<div class="ttc" id="atask_8hpp_html"><div class="ttname"><a href="../../d8/da1/task_8hpp.html">task.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
