<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebFrame++: coroute::ChunkedResponse Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WebFrame++<span id="projectnumber">&#160;v2.0.0</span>
   </div>
   <div id="projectbrief">Modern C++20 Coroutine-based Web Framework with HTTP/2, TLS, and WebSocket support</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d6f/namespacecoroute.html">coroute</a></li><li class="navelem"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">coroute::ChunkedResponse Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9b3faf89b703a6631ce3d5d5d634f4ec" id="r_a9b3faf89b703a6631ce3d5d5d634f4ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">Header</a> = std::pair&lt; std::string, std::string &gt;</td></tr>
<tr class="separator:a9b3faf89b703a6631ce3d5d5d634f4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160e5074d853cf2201583a686a428e67" id="r_a160e5074d853cf2201583a686a428e67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a160e5074d853cf2201583a686a428e67">Headers</a> = std::vector&lt; <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">Header</a> &gt;</td></tr>
<tr class="separator:a160e5074d853cf2201583a686a428e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a2da1fe62290bcbdf748e40bfd4ac5" id="r_a69a2da1fe62290bcbdf748e40bfd4ac5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a69a2da1fe62290bcbdf748e40bfd4ac5">Trailer</a> = <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">Header</a></td></tr>
<tr class="separator:a69a2da1fe62290bcbdf748e40bfd4ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae53c36ea89812075210801c70c28de0" id="r_aae53c36ea89812075210801c70c28de0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aae53c36ea89812075210801c70c28de0">Trailers</a> = std::vector&lt; <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a69a2da1fe62290bcbdf748e40bfd4ac5">Trailer</a> &gt;</td></tr>
<tr class="separator:aae53c36ea89812075210801c70c28de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef4db342bc35132a6fd6ed01d3cb9bee" id="r_aef4db342bc35132a6fd6ed01d3cb9bee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aef4db342bc35132a6fd6ed01d3cb9bee">ChunkedResponse</a> ()=<a class="el" href="../../df/d44/classcoroute_1_1_task.html">default</a></td></tr>
<tr class="separator:aef4db342bc35132a6fd6ed01d3cb9bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6b893f68f163b2805d54a95156ef2d" id="r_a5a6b893f68f163b2805d54a95156ef2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a5a6b893f68f163b2805d54a95156ef2d">ChunkedResponse</a> (<a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> *<a class="el" href="../../df/d44/classcoroute_1_1_task.html">conn</a>)</td></tr>
<tr class="separator:a5a6b893f68f163b2805d54a95156ef2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fc0a2cacf01a5fbbb6c292ef71a5ab" id="r_a63fc0a2cacf01a5fbbb6c292ef71a5ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a63fc0a2cacf01a5fbbb6c292ef71a5ab">set_connection</a> (<a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> *<a class="el" href="../../df/d44/classcoroute_1_1_task.html">conn</a>)</td></tr>
<tr class="separator:a63fc0a2cacf01a5fbbb6c292ef71a5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14589f30d0be424caea87c90d0575d75" id="r_a14589f30d0be424caea87c90d0575d75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a14589f30d0be424caea87c90d0575d75">status</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a> code)</td></tr>
<tr class="separator:a14589f30d0be424caea87c90d0575d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d15fa6e820bb230d87c12df66b2430" id="r_af1d15fa6e820bb230d87c12df66b2430"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#af1d15fa6e820bb230d87c12df66b2430">header</a> (std::string <a class="el" href="../../df/d44/classcoroute_1_1_task.html">key</a>, std::string value)</td></tr>
<tr class="separator:af1d15fa6e820bb230d87c12df66b2430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5af74d6530243b1f433e16c8c3ea8d7" id="r_ac5af74d6530243b1f433e16c8c3ea8d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ac5af74d6530243b1f433e16c8c3ea8d7">content_type</a> (std::string type)</td></tr>
<tr class="separator:ac5af74d6530243b1f433e16c8c3ea8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97823bd5137657306a18bb723444e0f5" id="r_a97823bd5137657306a18bb723444e0f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a97823bd5137657306a18bb723444e0f5">trailer</a> (std::string <a class="el" href="../../df/d44/classcoroute_1_1_task.html">key</a>, std::string value)</td></tr>
<tr class="separator:a97823bd5137657306a18bb723444e0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa264bdfe6c13117dcab0182f582158c4" id="r_aa264bdfe6c13117dcab0182f582158c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aa264bdfe6c13117dcab0182f582158c4">write</a> (std::string_view data)</td></tr>
<tr class="separator:aa264bdfe6c13117dcab0182f582158c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6769ae836c80a005811a59961a459b60" id="r_a6769ae836c80a005811a59961a459b60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a6769ae836c80a005811a59961a459b60">write</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::string &amp;data)</td></tr>
<tr class="separator:a6769ae836c80a005811a59961a459b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3b7f76f9a177b5b8c68505745c6b15" id="r_a3d3b7f76f9a177b5b8c68505745c6b15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a3d3b7f76f9a177b5b8c68505745c6b15">finish</a> ()</td></tr>
<tr class="separator:a3d3b7f76f9a177b5b8c68505745c6b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6237704c71480cf8c28bf8b7acc3d4d5" id="r_a6237704c71480cf8c28bf8b7acc3d4d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a6237704c71480cf8c28bf8b7acc3d4d5">headers_sent</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">noexcept</a></td></tr>
<tr class="separator:a6237704c71480cf8c28bf8b7acc3d4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca33cf01254c03673e726c33587a52b" id="r_a5ca33cf01254c03673e726c33587a52b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a5ca33cf01254c03673e726c33587a52b">finished</a> () <a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> <a class="el" href="../../df/d44/classcoroute_1_1_task.html">noexcept</a></td></tr>
<tr class="separator:a5ca33cf01254c03673e726c33587a52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a31e6b156001bab0f2950f21f7b6c0719" id="r_a31e6b156001bab0f2950f21f7b6c0719"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a31e6b156001bab0f2950f21f7b6c0719">send_headers</a> ()</td></tr>
<tr class="separator:a31e6b156001bab0f2950f21f7b6c0719"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a045d782aaf6cc629023d19e34d7f6e22" id="r_a045d782aaf6cc629023d19e34d7f6e22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">static</a> std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a045d782aaf6cc629023d19e34d7f6e22">status_text</a> (<a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a> <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a14589f30d0be424caea87c90d0575d75">status</a>) <a class="el" href="../../df/d44/classcoroute_1_1_task.html">noexcept</a></td></tr>
<tr class="separator:a045d782aaf6cc629023d19e34d7f6e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0757e59c60a20d519f2aa6d579a99ccc" id="r_a0757e59c60a20d519f2aa6d579a99ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a0757e59c60a20d519f2aa6d579a99ccc">status_</a> = 200</td></tr>
<tr class="separator:a0757e59c60a20d519f2aa6d579a99ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340d563f15340b92eb2e2e84c2f24b33" id="r_a340d563f15340b92eb2e2e84c2f24b33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a160e5074d853cf2201583a686a428e67">Headers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a340d563f15340b92eb2e2e84c2f24b33">headers_</a></td></tr>
<tr class="separator:a340d563f15340b92eb2e2e84c2f24b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78138dedc33be509f893c75672a60d8" id="r_ab78138dedc33be509f893c75672a60d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aae53c36ea89812075210801c70c28de0">Trailers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a></td></tr>
<tr class="separator:ab78138dedc33be509f893c75672a60d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7e820eae3cabb7e6915d0ec167bffd" id="r_aaa7e820eae3cabb7e6915d0ec167bffd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:aaa7e820eae3cabb7e6915d0ec167bffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e13fa45ed5a0ce8302d8fff1f2cac9f" id="r_a4e13fa45ed5a0ce8302d8fff1f2cac9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">finished_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td></tr>
<tr class="separator:a4e13fa45ed5a0ce8302d8fff1f2cac9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbd3109f9c40dc6938b51b0cb89a265" id="r_acfbd3109f9c40dc6938b51b0cb89a265"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a> = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">nullptr</a></td></tr>
<tr class="separator:acfbd3109f9c40dc6938b51b0cb89a265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00041">41</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9b3faf89b703a6631ce3d5d5d634f4ec" name="a9b3faf89b703a6631ce3d5d5d634f4ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3faf89b703a6631ce3d5d5d634f4ec">&#9670;&#160;</a></span>Header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a> <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">coroute::ChunkedResponse::Header</a> =  std::pair&lt;std::string, std::string&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00043">43</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="a160e5074d853cf2201583a686a428e67" name="a160e5074d853cf2201583a686a428e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160e5074d853cf2201583a686a428e67">&#9670;&#160;</a></span>Headers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a> <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a160e5074d853cf2201583a686a428e67">coroute::ChunkedResponse::Headers</a> =  std::vector&lt;<a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">Header</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00044">44</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="a69a2da1fe62290bcbdf748e40bfd4ac5" name="a69a2da1fe62290bcbdf748e40bfd4ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69a2da1fe62290bcbdf748e40bfd4ac5">&#9670;&#160;</a></span>Trailer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a> <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a69a2da1fe62290bcbdf748e40bfd4ac5">coroute::ChunkedResponse::Trailer</a> =  <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a9b3faf89b703a6631ce3d5d5d634f4ec">Header</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00045">45</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="aae53c36ea89812075210801c70c28de0" name="aae53c36ea89812075210801c70c28de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae53c36ea89812075210801c70c28de0">&#9670;&#160;</a></span>Trailers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">using</a> <a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aae53c36ea89812075210801c70c28de0">coroute::ChunkedResponse::Trailers</a> =  std::vector&lt;<a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a69a2da1fe62290bcbdf748e40bfd4ac5">Trailer</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00046">46</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aef4db342bc35132a6fd6ed01d3cb9bee" name="aef4db342bc35132a6fd6ed01d3cb9bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef4db342bc35132a6fd6ed01d3cb9bee">&#9670;&#160;</a></span>ChunkedResponse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coroute::ChunkedResponse::ChunkedResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a6b893f68f163b2805d54a95156ef2d" name="a5a6b893f68f163b2805d54a95156ef2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6b893f68f163b2805d54a95156ef2d">&#9670;&#160;</a></span>ChunkedResponse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coroute::ChunkedResponse::ChunkedResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00058">58</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>: <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>(conn) {}</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_acfbd3109f9c40dc6938b51b0cb89a265"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">coroute::ChunkedResponse::conn_</a></div><div class="ttdeci">net::Connection * conn_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00054">chunked.hpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac5af74d6530243b1f433e16c8c3ea8d7" name="ac5af74d6530243b1f433e16c8c3ea8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5af74d6530243b1f433e16c8c3ea8d7">&#9670;&#160;</a></span>content_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp; coroute::ChunkedResponse::content_type </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00074">74</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                                  {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#af1d15fa6e820bb230d87c12df66b2430">header</a>(<span class="stringliteral">&quot;Content-Type&quot;</span>, std::move(type));</div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_af1d15fa6e820bb230d87c12df66b2430"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#af1d15fa6e820bb230d87c12df66b2430">coroute::ChunkedResponse::header</a></div><div class="ttdeci">ChunkedResponse &amp; header(std::string key, std::string value)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00069">chunked.hpp:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d3b7f76f9a177b5b8c68505745c6b15" name="a3d3b7f76f9a177b5b8c68505745c6b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3b7f76f9a177b5b8c68505745c6b15">&#9670;&#160;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::ChunkedResponse::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d74/chunked_8cpp_source.html#l00181">181</a> of file <a class="el" href="../../db/d74/chunked_8cpp_source.html">chunked.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>                                                    {</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>) {</div>
<div class="line"><span class="lineno">  183</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#aca91d2a2347c2e3553a9fa9d99dc6dff">Error::http</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3">HttpError::Internal</a>, <span class="stringliteral">&quot;No connection set&quot;</span>));</div>
<div class="line"><span class="lineno">  184</span>    }</div>
<div class="line"><span class="lineno">  185</span>    </div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">finished_</a>) {</div>
<div class="line"><span class="lineno">  187</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};  <span class="comment">// Already finished</span></div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>    </div>
<div class="line"><span class="lineno">  190</span>    <span class="comment">// Send headers if not sent yet (empty response)</span></div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a>) {</div>
<div class="line"><span class="lineno">  192</span>        <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a31e6b156001bab0f2950f21f7b6c0719">send_headers</a>();</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  194</span>            <span class="keyword">co_return</span> result;</div>
<div class="line"><span class="lineno">  195</span>        }</div>
<div class="line"><span class="lineno">  196</span>    }</div>
<div class="line"><span class="lineno">  197</span>    </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Send final chunk with trailers</span></div>
<div class="line"><span class="lineno">  199</span>    std::string final_chunk;</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>.empty()) {</div>
<div class="line"><span class="lineno">  201</span>        final_chunk = <a class="code hl_function" href="../../dc/dd4/namespacecoroute_1_1chunked.html#ac252bb509713a376a259b65abddd66b7">chunked::encode_final_chunk</a>();</div>
<div class="line"><span class="lineno">  202</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  203</span>        final_chunk = <a class="code hl_function" href="../../dc/dd4/namespacecoroute_1_1chunked.html#ac252bb509713a376a259b65abddd66b7">chunked::encode_final_chunk</a>(<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>);</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span>    </div>
<div class="line"><span class="lineno">  206</span>    <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>-&gt;<a class="code hl_function" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html#ae0d8c70a3209db06a732f9c0f21aa61a">async_write_all</a>(final_chunk.data(), final_chunk.size());</div>
<div class="line"><span class="lineno">  207</span>    </div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  209</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>    </div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">finished_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  214</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a31e6b156001bab0f2950f21f7b6c0719"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a31e6b156001bab0f2950f21f7b6c0719">coroute::ChunkedResponse::send_headers</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; send_headers()</div><div class="ttdef"><b>Definition</b> <a href="../../db/d74/chunked_8cpp_source.html#l00098">chunked.cpp:98</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a4e13fa45ed5a0ce8302d8fff1f2cac9f"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">coroute::ChunkedResponse::finished_</a></div><div class="ttdeci">bool finished_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00053">chunked.hpp:53</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_aaa7e820eae3cabb7e6915d0ec167bffd"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">coroute::ChunkedResponse::headers_sent_</a></div><div class="ttdeci">bool headers_sent_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00052">chunked.hpp:52</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_ab78138dedc33be509f893c75672a60d8"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">coroute::ChunkedResponse::trailers_</a></div><div class="ttdeci">Trailers trailers_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00051">chunked.hpp:51</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_error_html_aca91d2a2347c2e3553a9fa9d99dc6dff"><div class="ttname"><a href="../../df/d01/classcoroute_1_1_error.html#aca91d2a2347c2e3553a9fa9d99dc6dff">coroute::Error::http</a></div><div class="ttdeci">static Error http(HttpError e, std::string msg=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d99/error_8hpp_source.html#l00105">error.hpp:105</a></div></div>
<div class="ttc" id="aclasscoroute_1_1net_1_1_connection_html_ae0d8c70a3209db06a732f9c0f21aa61a"><div class="ttname"><a href="../../d7/db1/classcoroute_1_1net_1_1_connection.html#ae0d8c70a3209db06a732f9c0f21aa61a">coroute::net::Connection::async_write_all</a></div><div class="ttdeci">virtual Task&lt; WriteResult &gt; async_write_all(const void *buffer, size_t len)=0</div></div>
<div class="ttc" id="anamespacecoroute_1_1chunked_html_ac252bb509713a376a259b65abddd66b7"><div class="ttname"><a href="../../dc/dd4/namespacecoroute_1_1chunked.html#ac252bb509713a376a259b65abddd66b7">coroute::chunked::encode_final_chunk</a></div><div class="ttdeci">std::string encode_final_chunk()</div><div class="ttdef"><b>Definition</b> <a href="../../db/d74/chunked_8cpp_source.html#l00028">chunked.cpp:28</a></div></div>
<div class="ttc" id="anamespacecoroute_html_a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3">coroute::HttpError::Internal</a></div><div class="ttdeci">@ Internal</div></div>
<div class="ttc" id="anamespacecoroute_html_af98980e90f494d750f5e197f3fad8305"><div class="ttname"><a href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">coroute::unexpected</a></div><div class="ttdeci">unexpected(E) -&gt; unexpected&lt; E &gt;</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ca33cf01254c03673e726c33587a52b" name="a5ca33cf01254c03673e726c33587a52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca33cf01254c03673e726c33587a52b">&#9670;&#160;</a></span>finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::ChunkedResponse::finished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00100">100</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">finished_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1d15fa6e820bb230d87c12df66b2430" name="af1d15fa6e820bb230d87c12df66b2430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d15fa6e820bb230d87c12df66b2430">&#9670;&#160;</a></span>header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp; coroute::ChunkedResponse::header </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00069">69</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>                                                            {</div>
<div class="line"><span class="lineno">   70</span>        <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a340d563f15340b92eb2e2e84c2f24b33">headers_</a>.emplace_back(std::move(key), std::move(value));</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">   72</span>    }</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a340d563f15340b92eb2e2e84c2f24b33"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a340d563f15340b92eb2e2e84c2f24b33">coroute::ChunkedResponse::headers_</a></div><div class="ttdeci">Headers headers_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00050">chunked.hpp:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6237704c71480cf8c28bf8b7acc3d4d5" name="a6237704c71480cf8c28bf8b7acc3d4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6237704c71480cf8c28bf8b7acc3d4d5">&#9670;&#160;</a></span>headers_sent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::ChunkedResponse::headers_sent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00097">97</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a31e6b156001bab0f2950f21f7b6c0719" name="a31e6b156001bab0f2950f21f7b6c0719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e6b156001bab0f2950f21f7b6c0719">&#9670;&#160;</a></span>send_headers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::ChunkedResponse::send_headers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d74/chunked_8cpp_source.html#l00098">98</a> of file <a class="el" href="../../db/d74/chunked_8cpp_source.html">chunked.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>                                                          {</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>) {</div>
<div class="line"><span class="lineno">  100</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#aca91d2a2347c2e3553a9fa9d99dc6dff">Error::http</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3">HttpError::Internal</a>, <span class="stringliteral">&quot;No connection set&quot;</span>));</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span>    </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a>) {</div>
<div class="line"><span class="lineno">  104</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};  <span class="comment">// Already sent</span></div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span>    </div>
<div class="line"><span class="lineno">  107</span>    std::ostringstream oss;</div>
<div class="line"><span class="lineno">  108</span>    </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// Status line</span></div>
<div class="line"><span class="lineno">  110</span>    oss &lt;&lt; <span class="stringliteral">&quot;HTTP/1.1 &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a0757e59c60a20d519f2aa6d579a99ccc">status_</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a045d782aaf6cc629023d19e34d7f6e22">status_text</a>(<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a0757e59c60a20d519f2aa6d579a99ccc">status_</a>) &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  111</span>    </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">// Add Transfer-Encoding header</span></div>
<div class="line"><span class="lineno">  113</span>    oss &lt;&lt; <span class="stringliteral">&quot;Transfer-Encoding: chunked\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  114</span>    </div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">// Add Trailer header if we have trailers</span></div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>.empty()) {</div>
<div class="line"><span class="lineno">  117</span>        oss &lt;&lt; <span class="stringliteral">&quot;Trailer: &quot;</span>;</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">if</span> (i &gt; 0) oss &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><span class="lineno">  120</span>            oss &lt;&lt; <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>[i].first;</div>
<div class="line"><span class="lineno">  121</span>        }</div>
<div class="line"><span class="lineno">  122</span>        oss &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  123</span>    }</div>
<div class="line"><span class="lineno">  124</span>    </div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// User headers</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, value] : <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a340d563f15340b92eb2e2e84c2f24b33">headers_</a>) {</div>
<div class="line"><span class="lineno">  127</span>        <span class="comment">// Skip Content-Length (incompatible with chunked)</span></div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;Content-Length&quot;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  129</span>        <span class="comment">// Skip Transfer-Encoding (we set it)</span></div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">if</span> (key == <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  131</span>        oss &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; value &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span>    </div>
<div class="line"><span class="lineno">  134</span>    <span class="comment">// End of headers</span></div>
<div class="line"><span class="lineno">  135</span>    oss &lt;&lt; <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><span class="lineno">  136</span>    </div>
<div class="line"><span class="lineno">  137</span>    std::string header_data = oss.str();</div>
<div class="line"><span class="lineno">  138</span>    <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>-&gt;<a class="code hl_function" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html#ae0d8c70a3209db06a732f9c0f21aa61a">async_write_all</a>(header_data.data(), header_data.size());</div>
<div class="line"><span class="lineno">  139</span>    </div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  141</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span>    </div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  146</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a045d782aaf6cc629023d19e34d7f6e22"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a045d782aaf6cc629023d19e34d7f6e22">coroute::ChunkedResponse::status_text</a></div><div class="ttdeci">static std::string_view status_text(int status) noexcept</div><div class="ttdef"><b>Definition</b> <a href="../../db/d74/chunked_8cpp_source.html#l00086">chunked.cpp:86</a></div></div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a0757e59c60a20d519f2aa6d579a99ccc"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a0757e59c60a20d519f2aa6d579a99ccc">coroute::ChunkedResponse::status_</a></div><div class="ttdeci">int status_</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00049">chunked.hpp:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63fc0a2cacf01a5fbbb6c292ef71a5ab" name="a63fc0a2cacf01a5fbbb6c292ef71a5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63fc0a2cacf01a5fbbb6c292ef71a5ab">&#9670;&#160;</a></span>set_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a> coroute::ChunkedResponse::set_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00061">61</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{ <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a> = conn; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a14589f30d0be424caea87c90d0575d75" name="a14589f30d0be424caea87c90d0575d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14589f30d0be424caea87c90d0575d75">&#9670;&#160;</a></span>status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp; coroute::ChunkedResponse::status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00064">64</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>                                      {</div>
<div class="line"><span class="lineno">   65</span>        <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a0757e59c60a20d519f2aa6d579a99ccc">status_</a> = code;</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">   67</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a045d782aaf6cc629023d19e34d7f6e22" name="a045d782aaf6cc629023d19e34d7f6e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045d782aaf6cc629023d19e34d7f6e22">&#9670;&#160;</a></span>status_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view coroute::ChunkedResponse::status_text </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d74/chunked_8cpp_source.html#l00086">86</a> of file <a class="el" href="../../db/d74/chunked_8cpp_source.html">chunked.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>                                                               {</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">switch</span> (<a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a14589f30d0be424caea87c90d0575d75">status</a>) {</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">case</span> 200: <span class="keywordflow">return</span> <span class="stringliteral">&quot;OK&quot;</span>;</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">case</span> 201: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Created&quot;</span>;</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">case</span> 204: <span class="keywordflow">return</span> <span class="stringliteral">&quot;No Content&quot;</span>;</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">case</span> 400: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bad Request&quot;</span>;</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">case</span> 404: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Not Found&quot;</span>;</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">case</span> 500: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Internal Server Error&quot;</span>;</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><span class="lineno">   95</span>    }</div>
<div class="line"><span class="lineno">   96</span>}</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_a14589f30d0be424caea87c90d0575d75"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#a14589f30d0be424caea87c90d0575d75">coroute::ChunkedResponse::status</a></div><div class="ttdeci">ChunkedResponse &amp; status(int code)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d14/chunked_8hpp_source.html#l00064">chunked.hpp:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97823bd5137657306a18bb723444e0f5" name="a97823bd5137657306a18bb723444e0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97823bd5137657306a18bb723444e0f5">&#9670;&#160;</a></span>trailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html">ChunkedResponse</a> &amp; coroute::ChunkedResponse::trailer </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00079">79</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                                             {</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#ab78138dedc33be509f893c75672a60d8">trailers_</a>.emplace_back(std::move(key), std::move(value));</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">   82</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6769ae836c80a005811a59961a459b60" name="a6769ae836c80a005811a59961a459b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6769ae836c80a005811a59961a459b60">&#9670;&#160;</a></span>write() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::ChunkedResponse::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">const</a> std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00089">89</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>                                                             {</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aa264bdfe6c13117dcab0182f582158c4">write</a>(std::string_view(data));</div>
<div class="line"><span class="lineno">   91</span>    }</div>
<div class="ttc" id="aclasscoroute_1_1_chunked_response_html_aa264bdfe6c13117dcab0182f582158c4"><div class="ttname"><a href="../../d8/d09/classcoroute_1_1_chunked_response.html#aa264bdfe6c13117dcab0182f582158c4">coroute::ChunkedResponse::write</a></div><div class="ttdeci">Task&lt; expected&lt; void, Error &gt; &gt; write(std::string_view data)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d74/chunked_8cpp_source.html#l00148">chunked.cpp:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa264bdfe6c13117dcab0182f582158c4" name="aa264bdfe6c13117dcab0182f582158c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa264bdfe6c13117dcab0182f582158c4">&#9670;&#160;</a></span>write() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">Task</a>&lt; <a class="el" href="../../da/dae/classcoroute_1_1expected.html">expected</a>&lt; <a class="el" href="../../df/d44/classcoroute_1_1_task.html">void</a>, <a class="el" href="../../df/d01/classcoroute_1_1_error.html">Error</a> &gt; &gt; coroute::ChunkedResponse::write </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d74/chunked_8cpp_source.html#l00148">148</a> of file <a class="el" href="../../db/d74/chunked_8cpp_source.html">chunked.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                                                      {</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>) {</div>
<div class="line"><span class="lineno">  150</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#aca91d2a2347c2e3553a9fa9d99dc6dff">Error::http</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3">HttpError::Internal</a>, <span class="stringliteral">&quot;No connection set&quot;</span>));</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span>    </div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a4e13fa45ed5a0ce8302d8fff1f2cac9f">finished_</a>) {</div>
<div class="line"><span class="lineno">  154</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(<a class="code hl_function" href="../../df/d01/classcoroute_1_1_error.html#aca91d2a2347c2e3553a9fa9d99dc6dff">Error::http</a>(<a class="code hl_enumvalue" href="../../de/d6f/namespacecoroute.html#a45714ad432cf494eae0fa8ec965843daaafbf0897a5a83fdd873dfb032ec695d3">HttpError::Internal</a>, <span class="stringliteral">&quot;Response already finished&quot;</span>));</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span>    </div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">// Send headers on first write</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aaa7e820eae3cabb7e6915d0ec167bffd">headers_sent_</a>) {</div>
<div class="line"><span class="lineno">  159</span>        <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_function" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a31e6b156001bab0f2950f21f7b6c0719">send_headers</a>();</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  161</span>            <span class="keyword">co_return</span> result;</div>
<div class="line"><span class="lineno">  162</span>        }</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="line"><span class="lineno">  164</span>    </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// Don&#39;t send empty chunks</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (data.empty()) {</div>
<div class="line"><span class="lineno">  167</span>        <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  168</span>    }</div>
<div class="line"><span class="lineno">  169</span>    </div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// Encode and send chunk</span></div>
<div class="line"><span class="lineno">  171</span>    std::string chunk = <a class="code hl_function" href="../../dc/dd4/namespacecoroute_1_1chunked.html#abac9ee97d79a25d08b4b38efcbc0e7c5">chunked::encode_chunk</a>(data);</div>
<div class="line"><span class="lineno">  172</span>    <span class="keyword">auto</span> result = <span class="keyword">co_await</span> <a class="code hl_variable" href="../../d8/d09/classcoroute_1_1_chunked_response.html#acfbd3109f9c40dc6938b51b0cb89a265">conn_</a>-&gt;<a class="code hl_function" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html#ae0d8c70a3209db06a732f9c0f21aa61a">async_write_all</a>(chunk.data(), chunk.size());</div>
<div class="line"><span class="lineno">  173</span>    </div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  175</span>        <span class="keyword">co_return</span> <a class="code hl_function" href="../../de/d6f/namespacecoroute.html#af98980e90f494d750f5e197f3fad8305">unexpected</a>(result.error());</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>    </div>
<div class="line"><span class="lineno">  178</span>    <span class="keyword">co_return</span> expected&lt;void, Error&gt;{};</div>
<div class="line"><span class="lineno">  179</span>}</div>
<div class="ttc" id="anamespacecoroute_1_1chunked_html_abac9ee97d79a25d08b4b38efcbc0e7c5"><div class="ttname"><a href="../../dc/dd4/namespacecoroute_1_1chunked.html#abac9ee97d79a25d08b4b38efcbc0e7c5">coroute::chunked::encode_chunk</a></div><div class="ttdeci">std::string encode_chunk(std::string_view data)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d74/chunked_8cpp_source.html#l00016">chunked.cpp:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="acfbd3109f9c40dc6938b51b0cb89a265" name="acfbd3109f9c40dc6938b51b0cb89a265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbd3109f9c40dc6938b51b0cb89a265">&#9670;&#160;</a></span>conn_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/db1/classcoroute_1_1net_1_1_connection.html">net::Connection</a>* coroute::ChunkedResponse::conn_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00054">54</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="a4e13fa45ed5a0ce8302d8fff1f2cac9f" name="a4e13fa45ed5a0ce8302d8fff1f2cac9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e13fa45ed5a0ce8302d8fff1f2cac9f">&#9670;&#160;</a></span>finished_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::ChunkedResponse::finished_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00053">53</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="a340d563f15340b92eb2e2e84c2f24b33" name="a340d563f15340b92eb2e2e84c2f24b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340d563f15340b92eb2e2e84c2f24b33">&#9670;&#160;</a></span>headers_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#a160e5074d853cf2201583a686a428e67">Headers</a> coroute::ChunkedResponse::headers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00050">50</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="aaa7e820eae3cabb7e6915d0ec167bffd" name="aaa7e820eae3cabb7e6915d0ec167bffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa7e820eae3cabb7e6915d0ec167bffd">&#9670;&#160;</a></span>headers_sent_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">bool</a> coroute::ChunkedResponse::headers_sent_ = <a class="el" href="../../df/d44/classcoroute_1_1_task.html">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00052">52</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="a0757e59c60a20d519f2aa6d579a99ccc" name="a0757e59c60a20d519f2aa6d579a99ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0757e59c60a20d519f2aa6d579a99ccc">&#9670;&#160;</a></span>status_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d44/classcoroute_1_1_task.html">int</a> coroute::ChunkedResponse::status_ = 200</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00049">49</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<a id="ab78138dedc33be509f893c75672a60d8" name="ab78138dedc33be509f893c75672a60d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab78138dedc33be509f893c75672a60d8">&#9670;&#160;</a></span>trailers_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d09/classcoroute_1_1_chunked_response.html#aae53c36ea89812075210801c70c28de0">Trailers</a> coroute::ChunkedResponse::trailers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d14/chunked_8hpp_source.html#l00051">51</a> of file <a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/coroute/core/<a class="el" href="../../de/d14/chunked_8hpp_source.html">chunked.hpp</a></li>
<li>src/core/<a class="el" href="../../db/d74/chunked_8cpp_source.html">chunked.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
